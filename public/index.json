[{"content":"Ever since .Net v4, in all versions including the last classic .Net version v4.8, the built-in browser detection accessible in the Request.Browser (a HttpBrowserCapabilities object) has a serious flaw which will bite you as soon as your site gets several visitors per minute.\nWhat happens, if you rely on this object, is that users will randomly report having their browser mis-identified.\nThis post shows why it happens and how to solve it. The issue is also easy to reproduce locally, worth a few fun minutes. If you are so inclined, the problem also lends itself to a DoS attack.\nEven though this problem seems only to affect classic .Net (not .Net Core), there is a huge number of running web apps out there, and still new being developed, on this framework.\nWe have a website relying on some of the later browser features, so we are using browser detection to tell users with older browsers to upgrade, since we absolutely need these features. It works fine for a while, then randomly, users with recent browser versions are suddenly told they need to upgrade. Once this occures it typically lasts for the rest of the day.\nTo reproduce, create an asp.net project (web forms, MVC, doesn\u0026rsquo;t really matter) with this code in a .aspx file:\n\u0026lt;script language=\u0026#34;c#\u0026#34; runat=\u0026#34;server\u0026#34;\u0026gt; public void Page_Load(){ Response.Write(Request.Browser.Browser + \u0026#34; v\u0026#34; + Request.Browser.MajorVersion); } \u0026lt;/script\u0026gt; Visit this page, locally or on a server, and you get for instance Chrome v88. So far, so good.\nThe browser is classified from the User-Agent HTTP header. My Chrome sends this: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36\nNow, quickly change the Chrome/88 in the middle of the string to Chrome/86 (or any other number) and retry. For instance in Curl:\ncurl http://localhost:58571 -H \u0026#34;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4324.104 Safari/537.36\u0026#34; Still v88? How strange\u0026hellip; Let\u0026rsquo;s refresh a few times. Still v88. Let\u0026rsquo;s think for a minute\u0026hellip;hmm\u0026hellip;refresh again. Gone! Now, at last, it shows v86!\nI had to look into the offending source code from the .Net framework.\nWhat happens is, for performance, the result of the browser classification is stored in a hash-table with the User-Agent string as the key. But not the entire string, no, that would have saved us a lot of headache, no, the key is just the first 64 characters (source line 46).\nThe Chrome version number is located at position 90 and thus not part of the key at all. To add to the frustration, the cache has a sliding-window (source line 247,304, 369) 1 minute expiry (source line 147). This means: as long as the cache key is read at least once a minute, it stays. Hilarity ensues.\nThe fix is straight-forward, put this in your web.config\n\u0026lt;configuration\u0026gt; \u0026lt;system.web\u0026gt; \u0026lt;browserCaps userAgentCacheKeyLength=\u0026#34;512\u0026#34; /\u0026gt; \u0026lt;/system.web\u0026gt; \u0026lt;/configuration\u0026gt; Why 512? It turns out that .Net caps the User-Agent string at 512 characters to avoid resource attacks (source line 188). I imagine someone at Microsoft deciding that 512 characters ought to be enough for anybody.\nDenial-of-Service implication Without this line in your web.config, your site is also vulnerable to a DoS attack if you, like us, rely on browser identification to enable some functionality. An attacker would wait for low-traffic hours, typically the middle of the night, to issue requests with the first 64 bytes looking like the most commonly used User-Agents on the web, but the rest of the string tweaked with low version numbers or other content to lead the browser capabilities to think \u0026ldquo;it\u0026rsquo;s an older browser, sir, but it checks out\u0026rdquo;.\nAs long as one request per User Agent is issued per minute, these are permanently mis-identified. An exceptionally low-cost and low-effort DoS attack.\n","permalink":"http://localhost:1313/nets-defective-cached-browser-capabilities-detection-dos-attack/","summary":"\u003cp\u003eEver since .Net v4, in all versions including the last classic .Net version v4.8, the built-in browser detection accessible in the Request.Browser (a HttpBrowserCapabilities object) has a serious flaw which will bite you as soon as your site gets several visitors per minute.\u003c/p\u003e\n\u003cp\u003eWhat happens, if you rely on this object, is that users will randomly report having their browser mis-identified.\u003c/p\u003e\n\u003cp\u003eThis post shows why it happens and how to solve it. The issue is also easy to reproduce locally, worth a few fun minutes. If you are so inclined, the problem also lends itself to a DoS attack.\u003c/p\u003e","title":".Net's defective-by-default browser capabilities detection lends itself to DoS"},{"content":"I have used the X1 Nano heavily for the last few days after configuring it with all the software I use as a software developer and manager. If you are considering the X1 Nano, but is wondering how it really is, this post is for you.\nI got the first model available in Scandinavia, the Core i5 16/256GB with 4G and non-touch matte 2160px 16:10 screen with extended warranty (20UN002CMX). This came from the first shipment to Norway, while Lenovo\u0026rsquo;s own web shop still just said \u0026ldquo;Coming soon\u0026rdquo;.\nYou have probably read about ports, weight, screen, finish etc on all the preview reviews already. I will try to cover what they didn\u0026rsquo;t.\nSSD Being a software developer, the 256GB (WD SN530 - SDBPMPZ-256G) is too small so I will swap it for a 1TB drive as soon as I can. Why not already? The Nano uses a 42mm long M.2 drive (form factor 2242), and 1TB drives with PCI (and Evo) simply are not available yet in this size, at least not from any supplier I can find. It might also be the case that only so-called single-sided (thin) drives will fit, Lenovo has other models where this is a requirement. The replacement I am looking for is the same drive in 1TB edition, the SDBPMPZ-1T00.\nUpdate March 2nd: For some reason I received an alternative drive Samsung PM991 MZALQ1T0HALB-000L2 in a box marked with Western Digital. Not too worried about the performance specs for my usage, but still strange. To clone and install I needed to disable Windows Bitlocker.\nNew drive and shipment box\n4G WWAN Had there been several models to choose from, I would have gone without the 4G WWAN. Lenovo seems to invariably choose WWAN modules with driver issues; it took several driver updates before mye previous one became stable. Also, it just takes a swipe and click to share WiFi from my mobile phone (which also has 5G).\nTrue to form, the only \u0026ldquo;critical\u0026rdquo; driver update on the Nano right now is for the Fibocom 4G module. But it seems ok this time, though, perfectly stable so far. It comes with a SIM which can be bonded to a selection of mobile broadband suppliers. Since my current operator is on this list, I just added the SIM to my existing subscription.\nSize I\u0026rsquo;ve been using Thinkpads exclusively since 2000, when I started out with an A21p. After 2013 I have been on the X1 Carbon series. This time, I went down a size from 14\u0026quot; to the 13\u0026quot; X1 Nano.\nThe 16:10 screen really makes a difference, it does not feel much smaller than a 14\u0026quot;. When the switch from 4:3 to 16:9 was made way back when, I tried to hang on to 4:3 for as long as I could. Pleased to see the world coming to its senses again.\nI was surprised with the keyboard\u0026rsquo;s shorter key travel. While the Nano is noticeably smaller, it is the same thickness as the X1 Carbon. It also has the same thickness all over (\u0026ldquo;box\u0026rdquo;), while the X1 Carbon is slightly wedged/triangular in its profile. The new keyboard takes a little bit getting used to. But it is more of a getting used to kind of thing, not a downgrade.\nI don\u0026rsquo;t use the screen and keyboard most of the time. To comfortably work at the office (both home-office and office-office), I got two docking stations (which comes with massive 135W power supplies). The docking station supports two monitors (these can be either HDMI or DP).\nPower supply Speaking of power supplies, the one in the box has a monstrous cable. People buying ultra portables do so to carry them around, clearly the power supply should be ultra portable as well. I just replaced the wall connector cable for a far shorter one. On the positive side, the charger fast-charges my Android phone (Super Fast 2.0) so now I only have to carry around one charger.\nThere is another, more pricey, alternative to the monster cable: Lenovo\u0026rsquo;s own travel charger. I got this as well, but it is still bulky albeit in a different way.\nBattery My use is varied. I don\u0026rsquo;t often run CPU intensive tasks, but I often have a WSL2 (Windows Subsystem for Linux) Ubuntu in the background, so I\u0026rsquo;m not sure if my use is representative. Battery capacity so far seems ok, but not overwhelming. Charging is fairly quick, 25% (from 8% to 33%) in 20mins on the pictured 65W supply. From there it would take less than an hour to full charge if left alone (1h 15min total). With light use it took 1h 40min total from 8% to 100%.\nThe battery indicator in the Windows task bar is deceptive. 65% looks like 80%, you need to hover above or click it to get an actual reading.\nLenovo has used fairly sturdy power connectors in the past. Can\u0026rsquo;t help but wonder if that flimsy USB-C connector will survive as many years of daily plug-ins/outs.\nOther stuff The face ID feature works well. But it only works with the built-in camera, so while docked you will want to keep the laptop open and facing you to use it. Not only does it recognize you and unlocks, but it also locks fairly quickly when you are away.\nConclusion With this setup I have a durable workhorse with a comfortable setup at home/office and an extremely light travel companion to be whipped out at any time.\nIn a perfect world, I would have enjoyed 32GB RAM and more ports, but otherwise, this is just perfect.\n","permalink":"http://localhost:1313/lenovo-x1-nano-hands-on-practical-use-review/","summary":"\u003cp\u003eI have used the X1 Nano heavily for the last few days after configuring it with all the software I use as a software developer and manager. If you are considering the X1 Nano, but is wondering how it really is, this post is for you.\u003c/p\u003e\n\u003cfigure\u003e\n    \u003cimg loading=\"lazy\" src=\"/wp-content/uploads/2021/01/nano%5Flap%5Ftop.jpg\"/\u003e \n\u003c/figure\u003e\n\n\u003cp\u003eI got the first model available in Scandinavia, the Core i5 16/256GB with 4G and non-touch matte 2160px 16:10 screen with extended warranty (20UN002CMX). This came from the first shipment to Norway, while Lenovo\u0026rsquo;s own web shop still just said \u0026ldquo;Coming soon\u0026rdquo;.\u003c/p\u003e","title":"Lenovo X1 Nano - actual use"},{"content":"I have exclusively used Lenovo (used to be IBM) Thinkpads for over 20 years, opting for X1 Carbons since the launch. Almost all Lenovo laptops suffer thermal throttling and excessive heating after a few years. Here is how to solve this issue, shown on a X1 Carbon Gen 3 (but they are quite similar).\nThe bottom is easy to remove, just a few standard Philips screws. Inside, the cooling assembly with fan and heat sink is located top left.\nThe four screws need to be removed. Note the top left power connection; you can work carefully without removing it (requires some bending), but if you want to remove it while you work, you slide the grey part to the left until it comes loose. Do not lose this part.\nHere you can see the thermal paste has become dry. It has lost quite a bit of its thermal conductivity. A small cloth will wipe this off.\nYou can clean this properly with alcohol, but in my experience a good wipe-off will suffice. The fan itself will also need a good blast from compressed air , or lacking that, some careful wiping, to remove built-up dust on the blades.\nIf you haven\u0026rsquo;t applied thermal paste before, the golden rule is less is more. Apply a thin layer on top of the two shiny parts at the top. Then reassemble.\nIf you opted to disconnect the power connector, reassembling it is a two-step process.\nFirst, place it centered and make sure it goes inside the connector. The metal studs seen here is for securing it, the actual power transfer is at the bottom of the connector (touching matching metal stripes on the bottom side of the cable).\nThen reapply the grey plastic part which secures the connection.\nWhen reassembling the bottom of the case, it usually has plastic teeth/prongs which must either be put in at an angle or carefully clicked into place.\nMy laptop now runs much cooler, with less fan noise.\n","permalink":"http://localhost:1313/replacing-thermal-paste-on-lenovo-x1-carbon-to-reduce-temp-fan-noise-and-cpu-throttling/","summary":"\u003cp\u003eI have exclusively used Lenovo (used to be IBM) Thinkpads for over 20 years, opting for X1 Carbons since the launch. Almost all Lenovo laptops suffer thermal throttling and excessive heating after a few years. Here is how to solve this issue, shown on a X1 Carbon Gen 3 (but they are quite similar).\u003c/p\u003e\n\u003cp\u003eThe bottom is easy to remove, just a few standard Philips screws. Inside, the cooling assembly with fan and heat sink is located top left.\u003c/p\u003e","title":"Replacing thermal paste on Lenovo X1 Carbon to reduce temp, fan noise and CPU-throttling"},{"content":"The \u0026ldquo;Publishing failed\u0026rdquo; error message will make you feel cursed. It appears when publishing an Azure serverless Function directly from Visual Studio 2017. Some never see it, but those who do can\u0026rsquo;t seem to get rid of it.\nI tried all the recommended internet forum voodoo of creating new deployment profiles, restarting Visual Studio, cleaning the project and downloading deployment profiles. If it did go away for once, it always came back.\nWhat finally worked for me was upgrading Visual Studio 2017 to the latest version (as of now v15.9.21) and switching from Web Deploy to Zip Deploy. This is done by checking the new \u0026ldquo;run from package file\u0026rdquo; option.\nZip Deploy has other benefits as well, such as shorter cold starts for large deployments and ability to replace a running function in production without downtime.\nYou can see the deployment profile type by expanding the PublishProfiles folder.\n","permalink":"http://localhost:1313/solved-azure-function-publish-failed-from-visual-studio-2017/","summary":"\u003cp\u003eThe \u0026ldquo;Publishing failed\u0026rdquo; error message will make you feel cursed. It appears when publishing an Azure serverless Function directly from Visual Studio 2017. Some never see it, but those who do can\u0026rsquo;t seem to get rid of it.\u003c/p\u003e\n\u003cfigure\u003e\n    \u003cimg loading=\"lazy\" src=\"/wp-content/uploads/2020/03/publishfailed%5F450px.png\"/\u003e \n\u003c/figure\u003e\n\n\u003cp\u003eI tried all the recommended internet forum voodoo of creating new deployment profiles, restarting Visual Studio, cleaning the project and downloading deployment profiles. If it did go away for once, it always came back.\u003c/p\u003e","title":"Solved: Azure Function \"Publish Failed\" from Visual Studio 2017"},{"content":"Modifying an IKEA Trådfri mains switch to become a potential free/non voltage relay, using only two components, even leaving the mains outlet free for other use.\nThe IKEA Trådfri (or Tradfri) smart home system is inexpensive and widely available, but limited in functionality. If you want more, for instance a simple relay (not connected to mains), you need to get it somewhere else, often necessitating the install of another Zigbee controller in addition to the IKEA one. Instead, I modified a Trådfri outlet switch to become a potential free relay to control the garage door.\nThe IKEA Trådfri outlet switch, as is, allows you to control one phase of a mains outlet on/off. By adding a solid state relay it now instead controls whatever is connected, e.g. a garage door. Optionally, you can also bypass the mains relay so the mains outlet is left always on.\nThe first step is to gut it open. The one single screw looks promising, but the case is also heavily glued so expect to spend some time prying with a knife while swearing. Take care not to bend the knife too far inwards as it may damage components along the edges. It would probably be just as wise to cut the whole thing open with a dremel.\nWhen looking for somewhere to connect our stuff, the white LED at the right is perfect. It is used to indicate on/off, and as luck would have it, the input side of a solid state relay electrically also behaves like a LED.\nSnip it off, and find a solid state relay, such as the CPC1035N, and two pins. Any solid state relay will work, thought. If you\u0026rsquo;re into details, I have attached the datasheet.\nCPC1035N-datasheet Download\nThe dot on the relay package is placed on the positive input. The IKEA PCB helpfully also has a + to show the positive LED input.\nThe parts are small and the soldering joints very fragile. Bring on the glue.\nOptionally, you can cut the yellow metal connector from the relay to the mains, and connect the top mains phase to the bottom one with a short wire of appropriate dimension. This ensures the mains is always on, and the new improved relay does not occupy a mains outlet all by itself. Do keep in mind this is mains power so skip this step if you don\u0026rsquo;t know what you are doing.\nDrill an 8mm hole in the top case and assemble.\nThe finished modified switch installed to control the garage door - and providing an always-on mains outlet for the garage door itself.\nIf you are using the IKEA app or the on/off button to control the relay, you will need to click on-then-off. But if you, like me, have a home control web page and are using a script to connect to the IKEA gateway API, you can provide your users with a simple toggle switch performing both operations with a slight delay automatically.\n","permalink":"http://localhost:1313/ikea-tradfri-garage-opener/","summary":"\u003cp\u003eModifying an IKEA Trådfri mains switch to become a potential free/non voltage relay, using only two components, even leaving the mains outlet free for other use.\u003c/p\u003e\n\u003cp\u003eThe IKEA Trådfri (or Tradfri) smart home system is inexpensive and widely available, but limited in functionality. If you want more, for instance a simple relay (not connected to mains), you need to get it somewhere else, often necessitating the install of another Zigbee controller in addition to the IKEA one. Instead, I modified a Trådfri outlet switch to become a potential free relay to control the garage door.\u003c/p\u003e","title":"IKEA Trådfri Garage Opener"},{"content":"I suddenly found myself in charge of an unresponsive old Dell PowerEdge 1950 server with a DRAC 5 remote management card from 2006. Don\u0026rsquo;t ask. The DRAC was pingable, but did not respond to http/https. When that was sorted out, the remote console did not want to play nice, because Java. The solution was long-winded and might help others, so here it is. Start at whatever step suits you, it is all a case of IT archeology at this point.\nGet DRAC 5 working: Logs and Firmware A well-known trick of the trade with these older DRAC 5 cards is to clear the log. Log in using SSH, clear the logs using racadm clrraclog and restart using racadm racreset.\nHowever clearing the log isn\u0026rsquo;t always enough, in that case a firmware reflash (or upgrade) is necessary. First download firmware from Dell, setup a TFTP server somewhere, and have the DRAC card fetch it with racadm fwupdate -g -p -a ipadress.\nIf the firmware does not breathe life into the DRAC card, then we\u0026rsquo;re out of options.\nGetting Console to work Assuming you get into remote management, chances are you want to interact with the console. Lucky you, a reason to install Java on your desktop again. After install (I used JRE 1.8), put your DRAC site in trusted sites in Configure Java, Exception Site List. While you\u0026rsquo;re in there, check \u0026ldquo;Suppress offers when installing or updating java\u0026rdquo; as well.\nIf this doesn\u0026rsquo;t suffice, perhaps you see \u0026ldquo;Error when reading from SSL socket connection\u0026rdquo;, we need to tell Java not to be so uptight about security. This is a DRAC 5 from 2006 after all. Find the java security configuration text file, in my install it was at c:\\program files (x86)\\java\\jre.1.8.0_73\\lib\\security\\java.security.\nDisable the disabling of older ciphers by putting # in front of the offending modern limitations like this: #jdk.tls.disabledAlgorithms=SSLv3, RC4, MD5withRSA, DH keySize \u0026lt; 768\nThen finally, we have console.\nGetting remote media to work Half of the fun of remote console is to be able to mount a local ISO to install an OS. The secret sauce here is Firefox. Just use Firefox, and also under the virtual media config set it to auto-attach.\nVoila! I love it when a plan comes together.\n","permalink":"http://localhost:1313/solved-dell-drac-5-not-responding-to-httphttps/","summary":"\u003cp\u003eI suddenly found myself in charge of an unresponsive old Dell PowerEdge 1950 server with a DRAC 5 remote management card from 2006. Don\u0026rsquo;t ask. The DRAC was pingable, but did not respond to http/https. When that was sorted out, the remote console did not want to play nice, because Java. The solution was long-winded and might help others, so here it is. Start at whatever step suits you, it is all a case of IT archeology at this point.\u003c/p\u003e","title":"Solved: Dell DRAC 5 not responding"},{"content":"This Asus 4G router can be great, if configured correctly.\nIt has excellent sensitivity. Previously, I needed an external (outdoors) antenna to get 3G and 4G (LTE) coverage at the cabin; but the AC55U is sensitive enough to get the same reception indoors. I have another one at a remote shooting range to provide WiFi there.\nBut sometimes, even with the (at writing) most recent firmware 3.0.0.4.378_8071, it suddenly disconnects from the mobile provider or refuses to route traffic. At first I wrote it off as random service issues with the mobile coverage. After all, these are rural areas with weak signal. But the outages kept appearing while my cell phone worked fine.\nTurns out, the firmware has a couple of problems.\nPROBLEM 1: BUG IN METERING\nSince the mobile connection is metered, I made use of the ability to notify me by SMS of approaching usage limits. To avoid overcharge fees I also set a hard limit to shut down the mobile connection.\nBut there is an overflow issue in the firmware, triggering the forced shut-down seemingly at random.\nExtreme (wrong) data usage\nThe necessary work-around is to NOT use the Data Usage Limit feature, it has to be disabled by setting it to zero (see above screenshot).\nSince then, uninterrupted operation both at the cabin and the shooting range.\nPROBLEM 2: NOT AUTO-UPDATING ROUTING TABLE\nIf you experience the router losing connection for minutes at a time for no reason, then try pinging some random server. If ping works the chances are good the problem is the routing table.\nWhen the mobile provider updates the IP of the router, the router often fails to update the routing table, resulting in no traffic. The routing table can be found under the menu System Administration / Routing Table. As an example, I used my operator\u0026rsquo;s smartphone APN telenor.smart with the dial-code *99# (see picture above). The IP would change every few hours resulting in loss of traffic for several minutes. Changing the APN to internet and no dial-code solved this issue. I am not sure if it was \u0026ldquo;solved\u0026rdquo; just by greatly reducing the frequency of IP changes, or if the lack of dial code is relevant.\nIn any case, rebooting the router will update the routing table.\n","permalink":"http://localhost:1313/solved-asus-4g-ac55u-randomly-going-offline/","summary":"\u003cp\u003eThis Asus 4G router can be great, if configured correctly.\u003c/p\u003e\n\u003cp\u003eIt has excellent sensitivity. Previously, I needed an external (outdoors) antenna to get 3G and 4G (LTE) coverage at the cabin; but the AC55U is sensitive enough to get the same reception indoors. I have another one at a remote shooting range to provide WiFi there.\u003c/p\u003e\n\u003cp\u003eBut sometimes, even with the (at writing) most recent firmware 3.0.0.4.378_8071, it suddenly disconnects from the mobile provider or refuses to route traffic. At first I wrote it off as random service issues with the mobile coverage. After all, these are rural areas with weak signal. But the outages kept appearing while my cell phone worked fine.\u003c/p\u003e","title":"Solved: Asus 4G-AC55U randomly going offline"},{"content":"Update December 2015: This project has now ended and the floppy era is over - for me at least. The project has been featured quite a bit in the press and blogosphere. Most notably:\nBBC World Service (14min12sek in) CBC Spark Norwegian National Broadcasting (NRK) Dagbladet (national newspaper)\nWhile mass production of the venerable floppy disk stopped about 2010, some are still needed for applications designed in the nineties. It is actually possible to work with floppy disks on an almost daily basis at work, in 2015. In fact, I do.\n2500 floppies, or about 3.5 GB\nNorwegian doctors get one 3.5\u0026quot; floppy in the mail from the government (the Norwegian Directorate of Health) every month. For a long time this applied to all of them, but for about the last decade a secure online option has been available. Problem is, a lot of doctors love their MSDOS-based electronic journals and haven\u0026rsquo;t switched yet.\nThe reason floppy disks are used instead of CD-ROMs or flash drives is partly historical and partly economical. The floppy disks are inexpensive; they cost far less than a USB drive and are far less time-consuming to write to than a CD-ROM for this amount of data. Given the historical restriction of delivery by mail, and the data volume being less than 1.44MB, they are the logical choice.\nBackground Why a floppy a month? In Norway, every citizen selects one doctor to be their go-to doctor for everyday needs. This patient-to-main-doctor directory is maintained by the government. Since patients are free to switch (to any doctor with an available spot) at any time, the government needs to continuously send doctors a list of their main patients. This list, although essentially only a list of names, is classified as health-related information, leading to some restrictions on distribution.\n1500 discs, about 2.1 GB. Nicely stacked before a visit from the national broadcasting company (NRK).\nAt work, we took over the distribution from a large american document management company mid-2014, mostly for kicks. We all had fond memories of floppies growing up and it just seemed like a fun thing to do. Since then we have bought tens of thousands of floppies, emptying the stocks of most local online retailers. We are now buying them from the previous company holding the contract. When that stock is empty, or they refuse to sell us any more, we will start buying from floppydisk.com. It is what seems to be the sole global supplier with enough in stock.\nFunctional? To make sure every floppy gets the correct file, and gets sent to the correct doctor, we developed two applications in Haskell. From the EBCDIC encoded files we receive every month, one application generates labels for envelopes and floppies. A barcode on each label and a barcode reader on every USB floppy reader makes sure everything matches up. The other Haskell application is the one reading the barcodes on the floppy labels and writing the correct file. Thus, the human operator (usually a temp or intern), doesn\u0026rsquo;t even have to touch the keyboard.\nThe floppy copy workstations are required by the contract to be airgapped (no network). Fitting, as surfing the web and copying floppies belongs to two entirely different eras.\nA floppy copy workstation in 2015. The phone handset is just there for giggles.\nSo there it is, Haskell in production for the Norwegian government. Haskell truly can do anything.\nFun fact: while floppies are indestructible, the floppy readers are not. They seem to last a few thousand writes. Luckily, the drives are still readily available online.\nThe end is near The government seems to finally close down floppy distribution at the beginning of 2016, forcing any remaining doctors over to newer electronic patient journals. The chosen strategy is just to offer paper printouts instead, requiring error-prone rekeying at the doctor\u0026rsquo;s office. The future may be here at last, entering via paper detour.\nArt installation \u0026lsquo;Resistance to Change\u0026rsquo; in my office made from empty floppy containers.\n","permalink":"http://localhost:1313/functional-floppy-disks-in-2015/","summary":"\u003cp\u003eUpdate December 2015: This project has now ended and the floppy era is over - for me at least. The project has been featured quite a bit in the press and blogosphere. Most notably:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.bbc.co.uk/programmes/p034h09c\"\u003eBBC World Service (14min12sek in)\u003c/a\u003e \u003ca href=\"http://www.cbc.ca/radio/spark/298-shadow-work-surge-pricing-seeing-through-walls-and-more-1.3289284/floppy-disks-just-what-the-doctor-ordered-1.3293207\"\u003eCBC Spark\u003c/a\u003e \u003ca href=\"http://www.nrk.no/rogaland/pasientlister-pa-disketter-1.11815307\"\u003eNorwegian National Broadcasting (NRK)\u003c/a\u003e \u003ca href=\"http://www.dagbladet.no/2015/10/02/nyheter/innenriks/fastlegeordningen/helse/teknologi/41286221/\"\u003eDagbladet (national newspaper)\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eWhile mass production of the venerable floppy disk stopped about 2010, some are still needed for applications designed in the nineties. It is actually possible to work with floppy disks on an almost daily basis at work, in 2015. In fact, I do.\u003c/p\u003e","title":"Functional Floppy Disks - in 2015"},{"content":"When adding a HTTPS site on IIS7, the Host header field is disabled. If you have one IP per site, as used to be the requirement, this is not a problem. But when you want to host multiple sites on one IP, it is a show stopper.\nIn my case I had a wildcard certificate, and ran into this when adding my second site. It was important not to cause any down-time on the already running site.\nIt turns out that IIS7 will disable the Host Header field when the name (friendly name) of the wildcard certificate is anything else than *.domain.tld. How unexpected.\nThe solution is to change the friendly name of the certificate. Luckily, renaming the certificate and adding a host name to any existing sites can be done without service interruption.\nFirst, start the MMC (Start, Run, mmc) and add the Certificate snap-in.\nChoose Computer account, and then Local computer.\nNext, use MMC to browse to Certificates, Personal, Certificates, right-click the offending certificate and select Properties.\nA friendly rename will not impact any running sites.\nIf the IIS manager is running, restart it (but no sites needs a restart). Now, magically, the Host header field is enabled.\nShame on you, Microsoft, for linking specific functionality to a non-specific name field.\n","permalink":"http://localhost:1313/ssl-host-header-with-wildcard-certificate-on-iis7-explained/","summary":"\u003cp\u003eWhen adding a HTTPS site on IIS7, the Host header field is disabled. If you have one IP per site, as used to be the requirement, this is not a problem. But when you want to host multiple sites on one IP, it is a show stopper.\u003c/p\u003e\n\u003cp\u003eIn my case I had a wildcard certificate, and ran into this when adding my second site. It was important not to cause any down-time on the already running site.\u003c/p\u003e","title":"SSL Host Header with wildcard certificate on IIS7 solved"},{"content":"FreeBSD 10, with the new and improved packet filter/firewall pf, and OpenVPN are all great products. But I had a not so great time making them play together - especially with a Windows 8 client. As with everything, it is easy when you know how.\nMost OpenVPN examples seem to be using the tap interface and ethernet bridging. To keep things simple, I wanted to go with the default ip-routed tun interface. Apart from being default, thus requiring less config fiddling, it fits nicely with pf and requires one less kernel module.\nAfter making it all play together, I also wanted the connecting clients to access the internet through the VPN connection, necessitating some routing. The last step is not necessary if all the resources the VPN clients will need are on the server itself. A similar step will be required if the clients should access other servers close to the VPN entry-point.\nThe steps outlined here should also work on FreeBSD 9.\nPreparing certificates Installing is as easy as\npkg install openvpn But before we can go ahead and start it, we need keys and certificates. Decide on somewhere to keep the server\u0026rsquo;s private keys and other crucial files, I opted for\nmkdir /root/sslCA chmod 700 /root/sslCA This needs to be put in /etc/ssl/openssl.cnf as\ndir = /root/sslCA # Where everything is kept OpenSSL also requires some folders and a serial number\ncd /root/sslCA mkdir certs private newcerts echo 1024 \u0026gt; serial touch index.txt Then, let\u0026rsquo;s generate the 10 year Certificate Authority which will be used to sign the certificates\nopenssl req -new -x509 -days 3650 -extensions v3_ca -keyout private/cakey.pem -out cacert.pem -config /etc/ssl/openssl.cnf OK, that authority can now sign the server certificate. This is a two-step process where we first generate a request for a certificate, then the actual certificate. Note that while you can put almost anything in the fields when asked, you will need at least a common name for each, and the organization must be the same for both certificates.\nopenssl req -new -nodes -out server.req -keyout private/server.key -config /etc/ssl/openssl.cnf openssl ca -out server.crt -infiles server.req -config /etc/ssl/openssl.cnf Answer yes [y] where asked.\nIf you want to use password-based authentication for the clients, these are all the certificates you need. But if you want certificate based authentication, then each client will also need a certificate. Just create another request and certificate in the same manner, but with \u0026ldquo;server\u0026rdquo; replaced by \u0026ldquo;client\u0026rdquo;. You will need to copy those files (and the CA cert) to the client later.\nThe last piece of the plumbing puzzle is the random Diffie-Hellman parameters.\nopenssl dhparam -out dh1024.pem 1024 Configure OpenVPN We will base our config on the sample file, so copy it first.\ncp /usr/local/share/examples/openvpn/sample-config.files/server.conf /usr/local/etc/openvpn/openvpn.conf Most settings are defaults. In particular we avoid some work with tap and bridges since we are using a tunneled ip routed interface. But we need to tell OpenVPN where we put everything. Look for the lines in openvpn.conf starting with ca, cert, key and dh.\nca /root/sslCA/cacert.pem cert /root/sslCA/server.crt key /root/sslCA/private/server.key dh /root/sslCA/dh1024.pem If you want the client to use the VPN as the default gateway, i.e. not only to access server resources, but perhaps also to surf the web, you will need to put these two lines either in the server or client config. You will also need some routing, see below.\npush \u0026#34;redirect-gateway def1 bypass.dhcp\u0026#34; push \u0026#34;dhcp-option DNS 8.8.8.8\u0026#34; If you want the clients to be able to see each other, uncomment the line\nclient-to-client Now, prepare to run by adding to /etc/rc.conf:\nopenvpn_enable=\u0026#34;YES\u0026#34; openvpn_config=\u0026#34;/usr/local/etc/openvpn/openvpn.conf\u0026#34; And then, ignition:\n/usr/local/etc/rc.d/openvpn start Routing If all you want is for the clients to access the server, no routing is necessary. If you don\u0026rsquo;t already have pf (or another firewall) enabled, consider yourself done with the server setup. However, if you have a firewall and/or want the clients to access the internet, or other servers in your LAN, you are in for some pf magic.\nThe packet filter pf just recently got SMP support in FreeBSD. It perfectly illustrates how the FreeBSD community values performance, now having a faster port than the native OpenBSD version. If only we could port the \u0026ldquo;match\u0026rdquo; functionality as well.\nType ifconfig and identify the name of your network interfaces.\ncreate a file /etc/pf.conf containing\n# default openvpn settings for the client network vpnclients = \u0026#34;10.8.0.0/24\u0026#34; #put your wan interface here (it will almost certainly be different) wanint = \u0026#34;vtnet0\u0026#34; # put your tunnel interface here, it is usually tun0 vpnint = \u0026#34;tun0\u0026#34; # OpenVPN by default runs on udp port 1194 udpopen = \u0026#34;{1194}\u0026#34; icmptypes = \u0026#34;{echoreq, unreach}\u0026#34; set skip on lo # the essential line nat on $wanint inet from $vpnclients to any -\u0026gt; $wanint block in pass in on $wanint proto udp from any to $wanint port $udpopen # the following two lines could be made stricter if you don\u0026#39;t trust the clients pass out quick pass in on $vpnint from any to any pass in inet proto icmp all icmp-type $icmptypes Note that all incoming TCP from the WAN is blocked with this setup, add a line resembling the \u0026ldquo;pass in for proto udp\u0026rdquo; one to open specific TCP ports.\nRule 1 of firewall design is \u0026ldquo;Never blindly copy-paste rules\u0026rdquo;. While the above has been designed to not expose copy-pasters to too much danger, it is certainly better to extract the essentials and adapt the pass rules to your own needs. If you want IPv6 you have to.\nSince pf is included by default, all we need is some rc.conf settings\ngateway_enable=\u0026#34;YES\u0026#34; pf_enable=\u0026#34;YES\u0026#34; pf_rules=\u0026#34;/etc/pf.conf\u0026#34; And then, enable packet forwarding, enable pf as our firewall, and start it\nsysctl net.inet.ip.forwarding=1 pfctl -ef /etc/pf.conf Nevermind any messages about missing ALTQ, we don\u0026rsquo;t need QoS (yet).\nConfiguring Clients Thanks to using the tun interface and keeping to the defaults, the client configuration can be kept close to the defaults. Just search online for tutorials for your operating system. If your client is Windows 8, read on.\nThe Windows client includes an OpenVPN GUI program. I could not get that to show any GUI. If you can\u0026rsquo;t either, don\u0026rsquo;t despair. We will go old school and edit the settings file instead. If you don\u0026rsquo;t want to install the OpenVPN GUI, you don\u0026rsquo;t need it. You do, however, need the TAP adapter (selected by default) even though we have configured the server for TUN.\nAfter installing the Windows OpenVPN client, copy the client.ovpn file from c:\\Program Files\\OpenVPN\\sample-config to ..\\config. It will need the CA certificate, client key and client certificate from the server to accompany it.\nEdit the client.ovpn file slightly (it needs to be done as administrator). Look for the following lines and edit accordingly.\nremote 1.2.3.4 # put your server IP or name here # the certificate files from the server (separate client certificate, not server) ca ca.crt cert client.crt key client.key # remember to keep these lines commented out if they appear ;ns-cert-type server ;remote-cert-tls server At the end add\n#this line sets the VPN as default gateway redirect-gateway def1 #these lines stroke Windows 8 the right way route-method exe route-delay 5 route-metric 550 To start the connection we need to run (as administrator) from the config directory\n\u0026#34;c:\\program files\\openvpn\\bin\\openvpn.exe\u0026#34; --config client.ovpn The default OpenVPN network is 10.8.0.0 with the server at 10.8.0.1. Try pinging it.\n","permalink":"http://localhost:1313/openvpn-server-on-freebsd-with-pf-firewall/","summary":"\u003cp\u003eFreeBSD 10, with the new and improved packet filter/firewall pf, and OpenVPN are all great products. But I had a not so great time making them play together - especially with a Windows 8 client. As with everything, it is easy when you know how.\u003c/p\u003e\n\u003cp\u003eMost OpenVPN examples seem to be using the tap interface and ethernet bridging. To keep things simple, I wanted to go with the default ip-routed tun interface. Apart from being default, thus requiring less config fiddling, it fits nicely with pf and requires one less kernel module.\u003c/p\u003e","title":"OpenVPN server on FreeBSD with pf firewall"},{"content":"Unreal Tournament from 1999 (Game of the Year - GOTY - Edition) is now 15 years old and still a great multiplayer game, especially at LAN parties. It is free to download so you can share this gem with anyone. If you play it regularly you will want to host a server.\nThis guide for FreeBSD closely follows the Linux guide, but as always FreeBSD needs a couple of adjustments.\nFirst of all make a new user with adduser. All default settings, I call mine ut99.\nYou will also need the files as well as the patch from v436 to v451 (to get functioning web admin).\nwget http://ut-files.com/Entire_Server_Download/ut-server-436.tar.gz tar xfz ut-server-436.tar.gz cd ut-server wget http://www.ut-files.com/Patches/UTPGPatch451LINUX.tar.tar tar xfj UTPGPatch451LINUX.tar.tar wget http://ut-files.com/Entire_Server_Download/server_scripts/asu-0.6.tar.gz tar xfz asu-0.6.tar.gz chmod +x asu.sh cd System ln -s libSDL-1.1.so.0 libSDL-1.2.so.0 For some reason (Linux\u0026hellip;) the first line of asu.sh specifies sh, but the script later tests for bash. We need to install bash if you don\u0026rsquo;t already have it\npkg install bash then change the first line to\n#!/usr/local/bin/bash Now run asu.sh to set some options. First choose I, answer the prompts, then S for more prompts, then X to exit. Default options are ok; just remember to enter the user you added when prompted for it. Whatever you enter here can be changed later in System/UnrealTournament.ini.\nasu.sh creates a script ucc.init which we will use to run the server. But before anything will run we need to\nchmod +x ucc.init chmod +x ucc cd .. chown -R ut99 ut-server If you already have Linux compatibility installed, you are good to go. But if not, you will get ELF binary type \u0026ldquo;3\u0026rdquo; not known, which means:\nkldload linux pkg install linux_base-f10 echo \u0026#39;linux_enable=\u0026#34;YES\u0026#34;\u0026#39; \u0026gt;\u0026gt; /etc/rc.conf At last, start the server with\n./ucc.init start If you want to move the server files later, note that ucc.init contains the absolute path two places. These will need to be updated.\nEven though the server starts we are not done yet. Some of the maps in the Maps directory are zero-length files. These must be copied from the original game download. Most commonly these are DM-Morbias][.unr, DM-Curse][.unr and DM-Deck16][.unr.\nIf you want to make the server available from the internet, the ports to be NATed are 7777-7783 (UDP) as well as the web admin port, most commonly 5580 (TCP). The web admin port can be set in UnrealTournament.ini. Make sure to set the web admin username and password there as well.\n","permalink":"http://localhost:1313/unreal-tournament-server-on-freebsd/","summary":"\u003cp\u003eUnreal Tournament from 1999 (Game of the Year - GOTY - Edition) is now 15 years old and still a great multiplayer game, especially at LAN parties. It is free to download so you can share this gem with anyone. If you play it regularly you will want to host a server.\u003c/p\u003e\n\u003cp\u003eThis guide for FreeBSD closely follows the \u003ca href=\"http://wiki.unrealadmin.org/Server_Install_linux\"\u003eLinux guide\u003c/a\u003e, but as always FreeBSD needs a couple of adjustments.\u003c/p\u003e\n\u003cp\u003eFirst of all make a new user with adduser. All default settings, I call mine ut99.\u003c/p\u003e","title":"Unreal Tournament Server on FreeBSD"},{"content":"Over the last two Sundays, Stavanger Makerspace hosted meetups to build 4x4x4 RBG LED Arduino-controlled \u0026ldquo;charlie cubes\u0026rdquo;. A charlie cube, originally designed by Asher Glick and Kevin Baker, uses a minimum of components and can be made very cheap by using just an Arduino nano.\nCharlie-cube projects abound on the internet, but the amount of soldering points suspended only by thin wires often leads to misaligned results. Our intrepid member Kjetil Eik, known for impressive 3D prints on his sturdy Felix, thought we could do better. He designed and printed tools and jigs to straighten out what would otherwise have been a crooked crowd. He also designed a PCB to avoid the messy breadboard.\nDownload the 3D print gcode files for the LED jigs: LED_jig_gcode.zip and LEDjig_2_gcode.zip\nDownload the the PCB layout from Fritzing and have it delivered by dirtypcbs.\nThe tools are, from top left and clockwise:\nHats for the top LEDs, to be used during soldering to perfectly align the top LEDs in a grid, as well as keep them together during transport. Base platform for the PCB and Arduino. The arduino and all solder points are hidden underneath the PCB. It has just one small hole in the side for the USB cable. PCB designed with the program Fritzing. Jig to hold an RGB LED in the center hole while the leads are bent to match the grooves on the star\u0026rsquo;s arms. Tool to help remove stuck LEDs from the soldering jig Soldering jig to hold 4 LEDs and two wires while soldering. This is used twice for each \u0026ldquo;tower\u0026rdquo; to solder wires pairwise. This kind of jig is essential in a charlie cube project. Apart from 3D printed tools and the PCB, the parts needed are:\n64 RGB LEDs 1 Arduino Nano v3 (+ USB cable) 2 Single row angled SMT male header w/spacing 2.54mm (1/10\u0026quot;) 7m Steel wire DAY 1: PREPARATIONS\nLEDs are an essential part of any hobby electronics project. This project has plenty. Full colour!\nThe star-shaped jig for bending LEDs improves efficiency and alignment. An interesting observation is that the LED can be inserted in any orientation. The only unbendable rule for lead bending is the order: up, left, right, down. By the 64th LED, you have reached an amazing speed.\nNext comes wires.\nOrdinary fence wire won\u0026rsquo;t line anyone\u0026rsquo;s pockets, but works perfectly. It needs a bit of straightening out before it can be trusted with the task we have in mind, though. The process is simple: pull firmly, without yanking, and watch it stretch. Best done in pairs.\nCut to measure. Length is not too important, just keep it over 10cm.\nThree people made about 700 of these. We got the hang of it after about 100.\nIn addition to LED bending and wire stretching, we had USB cables, Arduinos and 3D-printed jigs for 10 people.\nDAY 2: ASSEMBLY\n4 LEDs and two wires goes into the soldering jig. The topmost LED can be put in at any orientation, but each LED downwards must then be rotated 90 degrees clockwise. Bring out the old soldering iron and link the connections before the heat makes the wire dig itself into the plastic jig (according to our jig maker, this never happens to him).\nThen, use the removal tool, turn the LEDs 180 degrees and repeat for the other leads.\nIt helps to have the PCB rigged with the Arduino and 4 temporary connectors, to confirm the non-presence of dud soldering joints.\nWhen happy, clip the wings.\nThe 16 towers with a total of 256 soldering joints is a great way to improve soldering skills for novices. For everyone else, it is a great way to test one\u0026rsquo;s patience.\nBefore assembly, solder the SMT header to the PCB. This is where the Arduino Nano will go. The reason for using surface mount headers is to avoid visible solder joints on the top.\nTo assemble, put the PCB in the base and stick all 16 towers in it without soldering. Take care to ensure that all towers are oriented the same way by matching the orientation of the topmost LED. Put the hat on top and turn it all upside down. It is now possible to adjust the height/level of the PCB and make sure it is completely flat. Also make sure that all towers are fully extended into the hats and not suspended in the air.\nThen solder the last 64 joints and hope for the best.\nAs a last step, cut the protruding wires, and.. Voila!\nI can\u0026rsquo;t wait to make som impressive sequences for this, watch this space for the obligatory scroll text program next.\n","permalink":"http://localhost:1313/charliecube/","summary":"\u003cp\u003eOver the last two Sundays, \u003ca href=\"http://www.meetup.com/Stavanger-Makerspace/\" title=\"Stavanger Makerspace\"\u003eStavanger Makerspace\u003c/a\u003e hosted meetups to build 4x4x4 RBG LED Arduino-controlled \u0026ldquo;charlie cubes\u0026rdquo;. A charlie cube, originally designed by \u003ca href=\"http://aglick.com/charliecube.html\"\u003eAsher Glick and Kevin Baker\u003c/a\u003e, uses a minimum of components and can be made very cheap by using just an Arduino nano.\u003c/p\u003e\n\u003cp\u003eCharlie-cube projects abound on the internet, but the amount of soldering points suspended only by thin wires often leads to misaligned results. Our intrepid member \u003ca href=\"http://www.meetup.com/Stavanger-Makerspace/members/54632462/\" title=\"Kjetil Eik\"\u003eKjetil Eik\u003c/a\u003e, known for impressive 3D prints on his sturdy \u003ca href=\"http://shop.felixprinters.com/\" title=\"Felix\"\u003eFelix\u003c/a\u003e, thought we could do better. He designed and printed tools and jigs to straighten out what would otherwise have been a crooked crowd. He also designed a PCB to avoid the messy breadboard.\u003c/p\u003e","title":"4x4x4 3D RGB Charlie Cube by Stavanger Makerspace"},{"content":"It seems like everyone is finding ways to watch American Netflix content. While it is easy with one of many plugins on the computer, it gets harder on devices such as iPad or PS3 and even more so on Chromecast with its hard-coded google DNS. Some people will also want a solution for the home router, covering all devices at once.\nThe most common fix is to get a VPN. Usable from the computer, iPad, Chromecast or a sufficiently advanced router, a VPN routes your traffic through a server in the US. The main drawback is speed. Most VPN providers are over-subscribed and, in general, it will be hard to get Super HD streaming - at least with any stability and on more than one device. You will also want to separate your other browsing traffic from the VPN to avoid the speed loss, and avoid having all websites think you are from the US. All in all, a solution with drawbacks.\nAnother common fix is to get a custom DNS provider such as unblock-us.com or unotelly.com. After the extremely easy sign-up you just change your DNS server settings to point to theirs. The custom DNS will return the addresses to their own US-based servers (reverse proxies) for all Netflix-related lookups. All other traffic flows normally.\nThis avoids the speed loss of a VPN as the actual streaming goes directly from Netflix\u0026rsquo;s servers to your home. It also does not affect your other web traffic. Usually a cheaper service than a VPN, this seems like the perfect solution. It does, however, have a slight security implication: the DNS provider can see all your lookups and could in theory log or divert some of it.\nWhat we want is to divert only relevant lookups to the proxy provider\u0026rsquo;s DNS. This is accomplished in pfSense by adding a domain override in the DNS Forwarder. The web gui for the domain override adds wildcards, so an entry for netflix.com will also cover all subdomains. We accomplish our task by adding the following to Services | DNS Forwarder | Domain Overrides and making sure the box \u0026quot; Query DNS servers sequentially\u0026quot; is checked:\nnetflix.com 208.122.23.23 netflix.net 208.122.23.23 rhapsody.com 208.122.23.23 pandora.com 208.122.23.23 hulu.com 208.122.23.23 The IP address is for the DNS server of unblock-us. Only the first two lines are necessary for Netflix, the others are for Rhapsody, Pandora and Hulu.\nFor the unbehaving Chromecast, with its hard-coded Google DNS, we are forced to add a NAT rule to reroute all DNS requests. In Firewall | NAT | Port Forward, add a new rule with these settings:\nRDR: Unchecked Interface: LAN Protocol: UDP/TCP Source: IP of your Chromecast Source port: any Destination: any Destination port: DNS (53) Redirect target IP: the DNS server of unblock-us or similar service Redirect target port: DNS (53)\nAll in all this is a perfect solution. Switching regions can be done either in the DNS provider\u0026rsquo;s web interface, or by disabling the pfSense settings.\n","permalink":"http://localhost:1313/american-netflix-on-ipad-and-chromecast-without-vpn-using-pfsense/","summary":"\u003cp\u003eIt seems like everyone is finding ways to watch American Netflix content. While it is easy with one of many plugins on the computer, it gets harder on devices such as iPad or PS3 and even more so on Chromecast with its hard-coded google DNS. Some people will also want a solution for the home router, covering all devices at once.\u003c/p\u003e\n\u003cp\u003eThe most common fix is to get a VPN. Usable from the computer, iPad, Chromecast or a sufficiently advanced router, a VPN routes your traffic through a server in the US. The main drawback is speed. Most VPN providers are over-subscribed and, in general, it will be hard to get Super HD streaming - at least with any stability and on more than one device. You will also want to separate your other browsing traffic from the VPN to avoid the speed loss, and avoid having all websites think you are from the US. All in all, a solution with drawbacks.\u003c/p\u003e","title":"American Netflix on any device without VPN or site-wide DNS changes - using pfSsense"},{"content":"Denne posten fra 2014 er oppdatert i 2015 med IPv6-innstillinger - se nederst.\nDe fleste som har Altibox fiber-bredbånd og vil bruke egen ruter hjemme setter Altibox-ruteren i bridge-mode. Men det er unødvendig å ha den som et ekstra ledd mellom deg og internett. Du kan like gjerne kople din egen ruter eller server rett på linjen.\nDenne trengs ikke\nOm du ikke har vært Altiboxkunde alt for lenge så har du en mediekonverter foran ruteren som leveres av Altibox. Da kopler du deg direkte i mediekonverteren. Har du ikke en mediekonverter er jobben litt mer innfløkt fordi du må direkte på fiberen med f.eks egen mediekonverter.\nEn PC med to nettverkskort, hvorav kortet som skal være WAN støtter VLAN (det gjør de fleste) er alt som trengs. Jeg bruker en HP Microserver med et ekstra nettverkskort og pfSsense. HP Microserver sitt innebygde nettverkskort støtter VLAN. Boksen har heller ingen problemer med de høye båndbreddene man kan få hos Altibox. Vil du bare teste så fungerer det helt fint å starte pfSense fra USB-pinne uten å installere.\nInternett leveres på VLAN 102 og den offentlige IP-adressen kommer med DHCP. TV leveres på VLAN 101. Takk til første poster i denne posten for disse opplysningene. Det er mulig rettskriving ikke er posterens beste side, men han vet hva han snakker om.\nNår pfSense starter spør den først etter evt VLAN. Svar ja og oppgi VLAN-tag 102 på WAN-kortet. Om WAN-kortet heter bge0 skal deretter WAN bindes til bge0_vlan102. LAN bindes til det andre kortet. Videre innstillinger kan gjøres i pfSense webinterface på http://192.168.1.1/.\npfSense setter som default opp ruting og NAT mellom WAN og LAN og henter adressen på WAN-kortet via DHCP automatisk. Det er overraskende lite jobb å få dette til, jeg hadde satt av godt med tid til frustrasjon, men opplevde ingen. Ingen endringer på Altibox sine selvbetjeningssider er nødvendig. Det er heller ikke nødvendig å sette MAC-adressen på WAN-kortet til samme MAC som Altibox-ruteren. Alt bare virker.\n(Oppdatert NOV2016: Ruting av TV-signalet ser ikke ut til å være like enkelt lenger. Jeg har selv ikke TV lenger og kan ikke undersøke.)\nAltibox burde dokumentere denne fremgangsmåten på egne sider. Det gir ikke mer supportkostnader enn for bridge-mode-brukerne (\u0026ldquo;eget ansvar, plugg tilbake ruteren vår før vi hjelper deg\u0026rdquo;), men ville gitt Altibox som brand mye geek-cred. Og det er slike som velger bredbånd for venner og slektninger.\nIPv6 Når du først er i gang, så gå for Altibox IPv6 i tillegg. Altibox bruker en mellomstasjon på veien mot full IPv6 kalt 6rd (Rapid Deployment). Støtten for 6rd er ødelagt i pfSense fra januar 2013 til lanseringen av v2.2-beta i januar 2015. For å bruke 6rd i pfSense trenger man derfor en versjon før eller etter dette, f.eks v2.2.\nIPv6 må skrues på to steder, WAN og LAN. i Interfaces | WAN velger man IPv6 Configuration Type: 6rd tunnel. Under avsnittet 6RD Configuration skal 6RD Prefix være 2a01:79c::/30. Dette er en kombinasjon av de to opplysningene IPv6 Prefix og IPv6 Prefix Length hos Altibox. 6RD Border Relay settes til 213.167.115.92 (Altibox kaller denne IPv4 BR adresse). 6RD IPv4 Prefix Length skal være 0 bits (Denne kalles IPv4 Prefix hos Altibox).\nNår WAN er satt opp vil IPv6-adressen vise i Dashboard sammen med IPv4 adressen. Man kan også gå i konsollet i pfSense og teste med ping6 facebook.com (legg merke til adressen facebook bruker, den er litt kreativ).\nFor å gi IPv6-adresser videre til LAN kan man velge flere løsninger. Les deg opp på IPv6 om du vil gjøre et informert valg her. Det enkleste er å sette IPv6 Configuration Type til Track Interface eller SLAAC. Vips så deles det ut adresser. Har du Android-enheter på nettet (dvs mobiltelefoner) så er SLAAC å foretrekke fordi det løser dette problemet. Mange moderne Android-enheter fungerer ikke med ren DHCPv6, utrolig nok. Man opplever da 1-2 sekund frys før den kopler over på IPv4 når det er en stund siden man har vært inne på en nettside.\nAltibox oppgir DNS 2a01:798:0:8012::4, men mange bruker heller Googles DNS som på IPv6 har adressene 2001:4860:4860::8888 og 2001:4860:4860::8844. Disse kan legges inn i System | General Setup i pfSense.\nFra enhver maskin på LANet kan man nå gå til f.eks ipv6.google.com eller teste ipv6-innstillingene. Score 10 av 10 mulige. Suksess!\nObs: Windows XP har ikke IPv6 støtte som standard. Både XP og Vista kan kreve litt ekstra konfigurering for å få opp IPv6. Oppgrader til nåtiden.\n","permalink":"http://localhost:1313/altibox-med-egen-ruter-med-pfsense/","summary":"\u003cp\u003e\u003cstrong\u003eDenne posten fra 2014 er oppdatert i 2015 med IPv6-innstillinger - se nederst.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eDe fleste som har Altibox fiber-bredbånd og vil bruke egen ruter hjemme setter Altibox-ruteren i bridge-mode. Men det er unødvendig å ha den som et ekstra ledd mellom deg og internett. Du kan like gjerne kople din egen ruter eller server rett på linjen.\u003c/p\u003e\n\u003cfigure\u003e\n    \u003cimg loading=\"lazy\" src=\"//gundersen.net/wp-content/uploads/2014/04/Zyxel%5FAltibox.jpg\"\n         alt=\"Denne trengs ikke\" width=\"450\"/\u003e \u003cfigcaption\u003e\n            \u003cp\u003eDenne trengs ikke\u003c/p\u003e\n        \u003c/figcaption\u003e\n\u003c/figure\u003e\n\n\u003cp\u003eOm du ikke har vært Altiboxkunde alt for lenge så har du en mediekonverter foran ruteren som leveres av Altibox. Da kopler du deg direkte i mediekonverteren. Har du ikke en mediekonverter er jobben litt mer innfløkt fordi du må direkte på fiberen med f.eks egen mediekonverter.\u003c/p\u003e","title":"Altibox med egen ruter med pfSense"},{"content":"The iPad and iPhone has more than a few quirks web developers need to handle. One of them is being quite insistent on when to show and hide the on-screen keyboard. The default iPad behaviour, in all iOS versions, is to drop the keyboard between input fields, and to deny programmatically showing the keyboard on focus changes. It is only shown when the user taps an input field.\nWhile this is adequate for most situations, it can be really frustrating in cases of several fixed-width input fields in a row.\nHere is how to circumvent this behaviour and give your site\u0026rsquo;s user interface a more natural flow. This solution works for wide and short input fields alike, flawlessly moving the user from zipcode to phone number, or from character to character between multiple single-letter input boxes. Compare entering words on lexical word finder (without this technique) to entering words on this wordfeud help site (with this technique).\nWe rely on two tricks to make this work. First, we keep the user in the same input box all the time, just changing the position and appearance as we move along. Second, to keep the code changes small and localized, we take advantage of the fact that we can change the id of an element.\nIn this way, even as we are moving the same input field along, we are changing it\u0026rsquo;s id (and size, location etc as well) — to avoid having to change the existing program logic of the page. The entire time, all input fields will have the correct id\u0026rsquo;s, even though we have been moving the same field along all the time. We also do not introduce any extra fields to put above the real/existing ones (a trick seen in some other solutions).\nThis has the additional advantages of always leaving the page in a consistent state should the user choose to unfocus and do something else in the middle of filling out the form, as well as being supported in all browsers - avoiding an iOS-only workaround.\nThe code snippet with a live functioning demo is hosted on jsFiddle.net and should be fairly self-explanatory. It shows both the regular and iOS-friendly version.\nMost of the magic lies in replacing the common step nextfield.focus(); to move from one input field to the next, with the function moveon_ipad(fromfield, nextfieldid) and realising that there is no previous field to blur (i.e. removing any blur-specific code when moving along, although it stays in for the event when the user clicks elsewhere).\nIn the demo, each field has a different background colour to allow you to see how the field moves along in the iOS-friendly version while they all stay put in the plain version. In practice, the background colours would be the same (or one of the properties the moveon_ipad function swaps), so the user would not notice any difference.\nWhile the live demo uses jQuery1.9.1, the code is very short and easily adaptable. The demo also uses absolute positioning to ease the movement, but this is not a requirement.\n","permalink":"http://localhost:1313/keep-ipadiphone-ios-keyboard-up-between-input-fields/","summary":"\u003cp\u003eThe iPad and iPhone has more than a few quirks web developers need to handle. One of them is being quite insistent on when to show and hide the on-screen keyboard. The default iPad behaviour, in all iOS versions, is to drop the keyboard between input fields, and to deny programmatically showing the keyboard on focus changes. It is only shown when the user taps an input field.\u003c/p\u003e\n\u003cp\u003eWhile this is adequate for most situations, it can be really frustrating in cases of several fixed-width input fields in a row.\u003c/p\u003e","title":"Keep iPad/iPhone iOS keyboard up between input fields"},{"content":"Det er vinter og tid for karamellpudding. I år lages den sous vide. Det er foreløpig vanskelig å finne konkrete fremgangsmåter på web, men fortvil ikke, etter litt prøving og feiling er oppskriften her — og resultatet blir perfekt hver gang. Oppskriften fungerer også fint for vanlig ovn.\nFor 5 personer trengs:\n3dl sukker til karamell (blir mer enn nok)\n————\n1dl sukker til pudding\n6dl lettmelk\n3dl fløte\n1 vaniljestang\n————\n8 små egg (370g uten skall)\nMen det kommer som regel flere, og alle liker karamellpudding, så jeg lager dobbelt opp.\nKaramellpuddingen lages like gjerne av laktoseredusert melk og laktosefri fløte. Det fungerer også fint å erstatte litt av melken med mer fløte, f.eks 5dl melk og 4dl fløte.\nKaramell er varmt og karamellpudding krever flere omganger med oppvarming og nedkjøling. Dette er en kjempeanledning til å skaffe litt utradisjonelle kjøkkenredskaper som sveisehansker og IR-termometer.\nSteg 1: Karamell\nMens man før trodde sukker smeltet, så har man nå funnet ut at smeltende sukker har en prosess som ligner mer på nedbrytning og som foregår i området 160-185°C. Rask oppvarming gir et høyere smeltepunkt enn sakte oppvarming. Dette kan vi utnytte for å få perfekt karamell. Ved for høy temperatur blir karamellen mørk, brent og bitter. Bruk svakere varme, god tid og få den lysere brun og tyktflytende. Noen små klumper av sukker gjør ikke noe, de løses likevel opp senere i prosessen, men sjekk at det ikke er store klumper av sukker igjen i blandingen.\nBruk en sleiv til å smøre karamellen rundt i formen. Her bør det gå fort, for karamellen stivner raskt. Sveisehanskene sørger for at ingen brenner seg selv om karamellen er varmere enn kokende vann. Man kan ordne seg litt bedre tid ved å forvarme formen. Få karamellen opp langs kantene, men det er ikke viktig akkurat hvor langt opp den kommer.\nSiden jeg lager dobbelt opp blir det to små brødformer.\nSteg 2: Pudding\nKok opp sukker, melk, fløte og vanlijestang i en gryte. Som alltid ved oppkok av melkeblanding så brenner det seg fort så rør ofte. Automatisk sauserører gjør jobben og avlaster kokken.\nEtter et kort oppkok må blandingen avkjøles. Mens man venter passer det å røre sammen eggene.\nBlandingen må være under 60°C før eggene helles i for å unngå at eggene koagulerer.\nSteg 3: Blandings\nSå er det bare å helle i formen.\nOg plassere i maskinen. Plast på toppen gjør at det ikke regner på puddingen fra taket av maskinen.\nMelkeblandingen hever koaguleringspunktet helt til 79°C. Vi må derfor over 79°C for å få blandingen til å stivne. Jeg bruker 84°C i 2t 10min. Det betyr ikke så mye om vannbadet er forvarmet eller ikke siden ingenting stivner før 79 grader likevel, men tiden regnes fra maskinen når riktig temperatur.\nGår man for ovn plasseres formen i vannbad også der, men da 125°C i 2,5t. En fordel med sous vide er at man unngår den snerkete toppen (som blir bunnen ved servering) på den ferdige puddingen.\nSelv om det ser elegant ut med form som flyter i maskinen, så lønner det seg å gi puddingformene fast grunn. Når puddingen stivner kan det nemlig hende det ikke skjer like raskt over alt. Dermed kan formen ende med å stå høyere i den ene enden underveis i prosessen og vips tar den inn vann og synker. Er du heldig skjer det ikke for tidlig og man kan bare helle av vannet.\nOm formene står på bunnen blir det for lite vann i maskinen og da klarer den ikke holde temperaturen jevn. For at formene skal kunne stå, men maskinen likevel ha nok vann, plasseres noen avstandsstykker i bunnen. Til overs IKEA-vinkler fungerer fint.\nDen ferdige puddingen avkjøles og settes i kjøleskap ca ett døgn — gjerne lenger. Løsne sidene fra formen med en kniv før servering, hell av karamellsaus fra et hjørne rett i en mugge, og snu formen raskt på et fat.\nServeres med pisket krem! Nyt den!\n","permalink":"http://localhost:1313/karamellpudding-sous-vide/","summary":"\u003cp\u003eDet er vinter og tid for karamellpudding. I år lages den sous vide. Det er foreløpig vanskelig å finne konkrete fremgangsmåter på web, men fortvil ikke, etter litt prøving og feiling er oppskriften her — og resultatet blir perfekt hver gang. Oppskriften fungerer også fint for vanlig ovn.\u003c/p\u003e\n\u003cp\u003eFor 5 personer trengs:\u003c/p\u003e\n\u003cp\u003e3dl sukker til karamell (blir mer enn nok)\u003c/p\u003e\n\u003cp\u003e————\u003c/p\u003e\n\u003cp\u003e1dl sukker til pudding\u003c/p\u003e\n\u003cp\u003e6dl lettmelk\u003c/p\u003e\n\u003cp\u003e3dl fløte\u003c/p\u003e\n\u003cp\u003e1 vaniljestang\u003c/p\u003e","title":"Karamellpudding Sous-Vide"},{"content":"Intel is pushing a new form factor, the Next Unit of Computing (NUC), and it is looking good. I recently got two of these and have some pictures and experiences to share.\nThe NUCs have some exciting properties and a couple of gotchas, read on and avoid my mistakes.\nFirst of all the box itself has a small surprise. When it opens it plays the Intel jingle from some embedded electronics with a light-sensor and a speaker. Oh, the humanity.\nInside the box is the power supply, the surprisingly small unit itself and a solid metal bracket (and six screws for this). The bracket is a VESA mount used for hanging the NUC on the back of a monitor. This is a very clever way to get the unit out of the way and put all those monitor VESA mounts to good use.\nWhat is not inside the box is:\n- Power cable (from wall to power supply) - RAM - Disk\nAlso, while having two WLAN antennas inside, the unit does not contain a motherboard with onboard WLAN.\nWLAN and mSATA are mounted above each other.\nNote that due to the crammed space inside, the parts are as small as possible. If you want to get a suitable WLAN adapter, make sure to get a PCI Express half mini adapter such as the Intel Centrino Advanced-N 6205 (top left).\nAnd most importantly, the disk is an mSATA (lower left), an until-now quite unusual form factor and currently only available as SSD. My usual webshop does not yet even have a category for mSATAs, they are hidden amongst ordinary SSD SATA drives, which caused me to actually order the wrong drive the first time around. The brick-and-mortar stores in my city does not yet stock mSATAs at all.\nWLAN, mSATA and RAM mounted.\nThis particular NUC boasts an impressive amount of display IO for the small size. Two mini display ports in addition to HDMI is not commonplace. Apart from this there is ethernet and three USBs (two shown here and one available on the other side).\nNUC IO closeup and VESA mount\nAll NUCs restrain themselvs to Intel onboard graphics. While models with HD5000 are on their way this month, only models with HD4000 are actually in stock right now.\nNUC mounted on monitor with the VESA mount\nI really like the monitor mount. The NUC is not screwed in place, merely hinged on to the metal bracket, but fits snugly. The end result is a stationary computer without the usual space-consuming tower to hide.\n","permalink":"http://localhost:1313/quick-overview-intel-next-unit-of-computing/","summary":"\u003cp\u003eIntel is pushing a new form factor, the Next Unit of Computing (NUC), and it is looking good. I recently got two of these and have some pictures and experiences to share.\u003c/p\u003e\n\u003cp\u003eThe NUCs have some exciting properties and a couple of gotchas, read on and avoid my mistakes.\u003c/p\u003e\n\u003cp\u003e\u003cimg alt=\"NUC box\" loading=\"lazy\" src=\"//gundersen.net/wp-content/uploads/2013/11/NUC-box.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eFirst of all the box itself has a small surprise. When it opens it plays the Intel jingle from some embedded electronics with a light-sensor and a speaker. Oh, the humanity.\u003c/p\u003e","title":"Quick Overview: Intel Next Unit of Computing"},{"content":"Functional Programming, as a paradigm, does not have users, it has devotees. I am myself one of those, spending time in Haskell as often as I can.\nWhy then, if it is so great, has FP not taken over the software development world?\nThere are many answers to this question, ranging from the condescending (\u0026ldquo;is hard\u0026rdquo;, \u0026ldquo;has no practical use\u0026rdquo;) to the hopeful (\u0026ldquo;just haven\u0026rsquo;t reached critical mass\u0026rdquo;). This post is about another, often overlooked, fundamental reason:\nMost programs are mostly about I/O\nCorporate programmers, in flavours of start-up to enterprise, mainly spend their days designing software that takes user input, moves it over the network, stores it in a database and even has the ability to fetch it back again. The furthest you get into processing data on a typical day is perhaps report generation. Then, outside of your main project, your build, deployment and test scripts are all about I/O as well.\nThe interesting tasks, such as rendering, query optimization or data aggregation is all handled by platforms or tools. Which is efficient, since those things can be time-consuming to develop, and you are paid by time units.\nWhile the notion that most programs are mostly about I/O seems obvious to the legions of corporate programmers using Java, PHP and C#, it is not to everyone. Runar Bjarnason gave a talk in New York last week on I/O in FP. The talk itself, while great, is not what caught my interest.\nRunar Bjarnason - I want one of those stickers!\nInadvertently, 8 minutes in, he brilliantly sums up the chasm between FP and the real world (for mundane, but very common, variants of the real world) in 32 seconds:\nYou have some code that interfaces with the outside world, and then you have, like, what your code actually does.\nAnd those things are kind of intermingled.\nBut in reality, your code is not about I/O. I/O is just the code that retrieves the input to your program, and then takes the output of your program and delivers it somewhere.\nAnd those parts are not really that interesting. Your code is not about that. Your code is about what happens in between.\nI have spent years in the corporate world on a multitude of different projects, and quite often not a lot happens in between. While there is a \u0026ldquo;pure\u0026rdquo; core of business logic in there somewhere, it is dwarfed by the amount of I/O-related code. Look at a typical mobile app, how many lines of code should have been separated into pure modules?\nFor this reason, if we want to convey the usefulness of FP to the imperatives amongst us, we need to focus on elegant solutions to real world inputs and outputs. Most software needs to integrate with other software. We need to show how our I/O-libraries, often overlooked or thought of as mere \u0026ldquo;helpers\u0026rdquo;, are superior in efficiency and leads to cleaner and more maintainable code. While a pure HashMap is a beautiful thing, let\u0026rsquo;s focus more of our time on Haskell packages such as postgresql-simple, amqp (of which I am a minor contributor), aeson and the fact that there is no native MSSQL library, just ODBC. Let\u0026rsquo;s focus on the plumbing, so to say. Great packages for integrating with the outside world is what will bring FP to the masses. When that prerequisite is there, only then are they ready for all the other stuff we have.\nAnd please do not go on and on about the beauty of lens, to the casual passer-by it seems of no other use than to demonstrate that basic functionality they take for granted is somehow missing. If you want to wow someone, instead demonstrate how one line of code adds ekg to your long-running process.\nWe could be doing our day jobs in Haskell. But most of the FP literature (and a lot of the packages) is focused elsewhere. As it is, one has to excpect or anticipate doing som library work when starting a project in Haskell, I really hope we will get past that soon.\n","permalink":"http://localhost:1313/functional-programming-hurdle-uninteresting-programs/","summary":"\u003cp\u003eFunctional Programming, as a paradigm, does not have users, it has devotees. I am myself one of those, spending time in Haskell as often as I can.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eWhy then, if it is so great, has FP not taken over the software development world?\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eThere are many answers to this question, ranging from the condescending (\u0026ldquo;is hard\u0026rdquo;, \u0026ldquo;has no practical use\u0026rdquo;) to the hopeful (\u0026ldquo;just haven\u0026rsquo;t reached critical mass\u0026rdquo;). This post is about another, often overlooked, fundamental reason:\u003c/p\u003e","title":"Functional Programming Hurdle: Uninteresting programs"},{"content":"The Raspberry Pi is a versatile and cheap piece of gear. While neat, it has pieces protruding from every side and as it turns out, this made it just slightly too wide for the enclosure I had in mind. No biggie, we can slim it down a bit.\nThe parts bothering us the most are the RCA connector, the audio jack and the SD-card. This being 2013, we are not going to miss neither the RCA nor the old-school audio.\nPinching the RCA connector to apply a slight pull, whilst applying a soldering iron to each of the three pads several times in a circular order, gives the desired result.\nThe audio jack has 5 soldered pads, one in the front and four in the back. The finger pull was not enough and I ended up fastening it to a vise and pulling slightly on the PCB.\nVoila! Look at that surprised face below the RCA plug.\nThe next step is the SD card. We can easily get that flush with the edge as well, either by using a custom made micro SD adapter, such as this one, or by using our kitchen scissors. Reddit user divapprove gave me the tip that modern cards are mostly plastic anyway. As it turns out the electronics is all in the top few millimeteres. By snipping away a few millimeteres at a time we can safely adjust the length of the SD card to make it flush with the edge.\nAll in all this reduces the footprint of a full enclosure for the Raspberry Pi from 111 x 64 (71cm²) to 98 x 56 mm (55cm²).\n","permalink":"http://localhost:1313/raspberry-pi-making-it-slimmer/","summary":"\u003cp\u003eThe Raspberry Pi is a versatile and cheap piece of gear. While neat, it has pieces protruding from every side and as it turns out, this made it just slightly too wide for the enclosure I had in mind. No biggie, we can slim it down a bit.\u003c/p\u003e\n\u003cp\u003eThe parts bothering us the most are the RCA connector, the audio jack and the SD-card. This being 2013, we are not going to miss neither the RCA nor the old-school audio.\u003c/p\u003e","title":"Raspberry Pi: Making it slimmer"},{"content":"A lot of developers are experiencing the same problem: while all other browsers display your latest web creation perfectly, Chrome just downloads the script source file - yes, source.\nSeveral support threads describe the same problem, suggesting everything from security flaws and misconfigured servers to a chrome bug.\nThe answer is simple: you visited your unfinished site in Chrome before it was configured correctly. Chrome correctly just downloaded your front page script file - and it has cached that result, showing it to you again and again.\nA simple curl invocation will confirm this, just goes to show how useful simple command-line tools can be.\nFinally..solved!\nThe solution, with the cause now found, is equally simple: menu, settings, scroll to bottom, click advanced, click clear browsing data and select how long a time you have been frustrated: last day usually does it for me. And then click Clear browsing data.\nAt least Chrome has the choice of time period, to avoid having to erase the entire cache. That would both have taken some serious disk activity as well as slowed down browsing for a few days.\n","permalink":"http://localhost:1313/chrome-downloading-file-instead-of-displaying-page-solved/","summary":"\u003cp\u003eA lot of developers are experiencing the same problem: while all other browsers display your latest web creation perfectly, Chrome just downloads the script source file - yes, source.\u003c/p\u003e\n\u003cp\u003eSeveral \u003ca href=\"http://productforums.google.com/forum/#!topic/chrome/_cA0qdJ4LHI\"\u003esupport\u003c/a\u003e \u003ca href=\"https://getsatisfaction.com/tibbo/topics/chrome_downloads_file_instead_of_displaying_web_page\"\u003ethreads\u003c/a\u003e describe the same problem, suggesting everything from security flaws and misconfigured servers to a chrome bug.\u003c/p\u003e\n\u003cp\u003e\u003cimg alt=\"chrome_download\" loading=\"lazy\" src=\"//gundersen.net/wp-content/uploads/2013/06/chrome_download.png\"\u003e\u003c/p\u003e\n\u003cp\u003eThe answer is simple: you visited your unfinished site in Chrome before it was configured correctly. Chrome correctly just downloaded your front page script file - \u003cstrong\u003eand it has cached that result, showing it to you again and again\u003c/strong\u003e.\u003c/p\u003e","title":"Solved: Chrome downloading file instead of displaying page"},{"content":"For a long time my keyboard input language sometimes changed for no apparent reason. I have two languages installed, and windows seemed to switch between them at will. It happened almost exclusively while using SQL Server Management Studio, and I wrote it off as an annoying bug in that product.\nThen, last night, it happened during a presentation. While the consensus of the audience feedback seemed to be that this was a common occurence, one guy suggested it might be because of an unfortunate keyboard shortcut.\nOf course! That had to be it.\nSo, for all of you multi-lingual windows users out there, here is the solution to this annoying \u0026ldquo;bug\u0026rdquo;.\nIt turns out that from Windows XP all the way up to and including Windows 8, pressing the left Shift + Alt will change the keyboard language. Just try it right now.\nThis happens all the time in SQL Server Management Studio because a common operation is to select some lines of SQL (Shift + arrows) then execute it (Alt + x). Going a bit fast what happens is that the shift key is released milliseconds after pressing the alt key. Voilà: your input language just changed.\nTo get rid of this shortcut, go to Control Panel, Language and click advanced settings.\nThen, click Change language bar hot keys.\nFrom here you can manage the keyboard shortcuts. Just set them all to Not Assigned. You can still use the windows key + space, or just click in the language bar, when you want to switch.\nFinally, a sigh of relief\n","permalink":"http://localhost:1313/keyboard-language-suddenly-changing/","summary":"\u003cp\u003eFor a long time my keyboard input language sometimes changed for no apparent reason. I have two languages installed, and windows seemed to switch between them at will. It happened almost exclusively while using SQL Server Management Studio, and I wrote it off as an annoying bug in that product.\u003c/p\u003e\n\u003cp\u003eThen, last night, it happened during a presentation. While the consensus of the audience feedback seemed to be that this was a common occurence, one guy suggested it might be because of an unfortunate keyboard shortcut.\u003c/p\u003e","title":"Keyboard language suddenly changing: solved"},{"content":"Haskell is fascinating, but getting started can be a bit rough - especially if you are on Windows. Here are some necessary steps to get you over these initial stumbling blocks when running the Haskell Platform (2012.4 or 2014.2) on Windows.\nIt is quite obvioius that a lot of the users of Haskell are on other platforms, and as a Windows-user you quickly run into some problems not experienced on other platforms. This is doubly frustrating as a newbie because you haven\u0026rsquo;t had time to develop the necessary intuition about where to look for solutions yet. It also certainly does not help that Haskell error messages are known to be misleading.\nMaking Networking code work on Windows\nAll networking code, both clients and servers, must be wrapped in withSocketsDo. The withSocketsDo construct initializes the winsock library which is a prerequisite for all networking on Windows. This is not required on any other Haskell platform. On all other platforms, withSocketsDo does nothing, and can therefore safely be added to make code run on all platforms.\nThe most common error message indiciating a missing withSocketsDo is\ngetAddrInfo: does not exist (error 10093)\nApart from your own code, several great (and widely-used) libraries also suffer from this problem. In this case just try wrapping the main function call. In the popular live diagnostics package ekg by Tibell, this is done by replacing the call to forkServer with withSocketsDo $ forkServer. I have submitted a patch to Tibell so expect this problem to be solved in future releases. But a lot of networking libraries remain.\nThe withSocketsDo function requires\nimport Network.Socket (withSocketsDo)\nAdding Cygwin to the path\nWhen installing packages with cabal, you will sometimes encounter the error message\ncabal.exe: The package has a \u0026lsquo;./configure\u0026rsquo; script. This requires a Unix compatibility toolchain such as MinGW+MSYS or Cygwin.\nThis is easy to solve, you just need to install CygWin and then make sure the binaries are in your path. If you install cygwin to c:\\cygwin then the binaries are in c:\\cygwin\\bin. To add c:\\cygwin\\bin to your path temporarily you can use a command prompt and do\nset path=%path%;c:\\cygwin\\bin\nOr you can go to Control Panel, System, Advanced, Environment Variables, Edit and add it there permanently. While you are editing paths, look for c:\\program files\\haskell\\bin. If it is there, just delete it. The Haskell Plattform installer (at least as of 2014.02) adds this non-existing path by mistake.\nCygWin is a great product, have a look at some of the tools it includes and you will quickly find that you need it on all your windows boxes.\nUpgrading Cabal\nInevitably, you will run cabal update and get the message\nNote: there is a new version of cabal-install available.\nAs the good citizen you are you will probably want to keep things up to date and try\ncabal install cabal-install\nYou will be greeted with a successful install with no error messages. Yet on your next run on cabal update you will get the same error. Double-checking with cabal \u0026ndash;version will tell you that even though the upgrade succeeded, you are still running the old version. How nice.\nThe reason is that the new cabal is installed in your user folder (for example c:\\users\\\\appdata\\roaming\\cabal\\bin), while the original one bundled with the Haskell Platform is located, well, with the platform (rather unexpectedly in C:\\Program Files (x86)\\Haskell Platform\\2012.4.0.0\\lib\\extralibs\\bin). Since your user folder is either not in the path, or in the path, but later than the platform, you are still executing the old cabal.\nThe solution is to delete or rename the old cabal binary.\nInstalling Encoding\nThe encoding package is a godsend for anyone working with a variety of character set encodings. The package will not install on Windows unless you set a flag:\ncabal install -f-systemencoding (yes, both dashes are correct)\nReplacing tabs with spaces\nIf you are starting out with creating your initial projects in an editor, you may get some surprising parsing errors where all seems well. The reason is that Haskell by default is white-space aware, which, by the way, is a great characteristic it shares with Python. The easiest way to make the parsing errors go away is to set your editor to replace tabs with spaces. In Notepad++ (free, and more than sufficient for your first few projects), this is done by going to Settings, Languages and selecting \u0026ldquo;replace by space\u0026rdquo; under Tab Settings. Surprisingly enough, this is not default in the built-in Haskell language and syntax highlighting settings in Notepad++.\n","permalink":"http://localhost:1313/haskell-on-windows/","summary":"\u003cp\u003eHaskell is fascinating, but getting started can be a bit rough - especially if you are on Windows. Here are some necessary steps to get you over these initial stumbling blocks when running the \u003ca href=\"http://www.haskell.org\" title=\"Haskell Platform\"\u003eHaskell Platform\u003c/a\u003e (2012.4 or 2014.2) on Windows.\u003c/p\u003e\n\u003cp\u003eIt is quite obvioius that a lot of the users of Haskell are on other platforms, and as a Windows-user you quickly run into some problems not experienced on other platforms. This is doubly frustrating as a newbie because you haven\u0026rsquo;t had time to develop the necessary intuition about where to look for solutions yet. It also certainly does not help that Haskell error messages are known to be misleading.\u003c/p\u003e","title":"Haskell on Windows"},{"content":"I had been trying to get the open source instant messenger client Pidgin to connect to Lync using SIPE. However, they wouldn\u0026rsquo;t play nice.\nThe Pidgin GUI kept saying \u0026ldquo;Web ticket request to https:// webdir0e- ext.online.lync.com:443/ CertProv/ CertProvisioningService.svc failed\u0026rdquo; while the debug log from running pidgin \u0026ndash;debug ended with an XML containing \u0026ldquo;Web ticket request error - SIP URI mismatch\u0026rdquo; - after confirming username and password to be ok.\nMy environment was Pidgin 2.10.7 and SIPE 1.15.0 on Win8 connecting to Office 365 (no local AD).\nThe great interwebs did not have a lot of information, but the case was eventually solved by heroic effort from Microsoft support engineer Sankaranarayanan (v-9sak). He went above and beyond on my support request, consulted superiors, spent several hours with me on the phone while we worked together on debugging and fixing this - and this on a problem and client (Pidgin) that Microsoft does not even support!\nI am duly impressed both by Microsoft and the-man-whose-name-contains-a-lot-of-a\u0026rsquo;s in this case.\nThe problem was due to my primary email being different from my account user name. Possibly because we were early adopters of BPOS (previous version of Office 365), possibly because my first-time signin on Lync was using my primary email, possibly because of something else entirely, Lync signed in with my primary email while Outlook and everything else signed in with my username. Pidgin required that my username be my Office 365 username (or else it would give password error), but it would give the elusive SIP URI mismatch error if I put anything else than blank or my username in the logon field.\nWhile Microsoft told me it was possible to fix this by changing my Lync logon from primary email to username, the best solution for me was to change my username to match my primary email address.\nThis consisted of backing up my email into a new PST-file (not needed), deleting everything under C:\\Users\\mywindowsuser\\AppData\\Local\\Microsoft\\Office\\15.0\\Lync and changing the username part-by-part first the last part from domain.no to domain.onmicrosoft.com, then the first part, then the last part back again - and logging in to portal.microsoftonline.com between the steps, checking that my Lync settings was being propagated. I am not sure how much of this was \u0026ldquo;just to be sure\u0026rdquo;.\nIn the end my Pidgin settings was just like SIPE tells us to:\nOn the General tab:\nProtocol: Office Communicator Username: Office365-username of the form name@domain.no Logon: blank Password: duh Local alias: blank\nOn the advanced tab:\nServer: blank Connection type: automatic Useragent: UCCAPI/4.0.7577.314 OC/4.0.7577.314 (Microsoft Lync 2010) Authentication: TLS-DSK Single sign-on unchecked\nNOTE: For Lync 2013 a reader has reported that you need useragent UCCAPI/15.0.4420.1017 OC/15.0.4420.1017 (Microsoft Lync)\nNothing else.\nThanks to Stefan Becker for looking at my debug log output, and to Tor Arne Helgesen for the Lync 2013 user agent string.\n","permalink":"http://localhost:1313/pidgin-and-lync-problem-solved/","summary":"\u003cp\u003eI had been trying to get the open source instant messenger client \u003ca href=\"http://pidgin.im\" title=\"Pidgin\"\u003ePidgin\u003c/a\u003e to connect to Lync using \u003ca href=\"http://sipe.sourceforge.net\" title=\"SIPE\"\u003eSIPE\u003c/a\u003e. However, they wouldn\u0026rsquo;t play nice.\u003c/p\u003e\n\u003cp\u003eThe Pidgin GUI kept saying \u0026ldquo;Web ticket request to https:// webdir0e- ext.online.lync.com:443/ CertProv/ CertProvisioningService.svc failed\u0026rdquo; while the debug log from running pidgin \u0026ndash;debug ended with an XML containing \u0026ldquo;Web ticket request error - SIP URI mismatch\u0026rdquo; - after confirming username and password to be ok.\u003c/p\u003e\n\u003cp\u003eMy environment was Pidgin 2.10.7 and SIPE 1.15.0 on Win8 connecting to Office 365 (no local AD).\u003c/p\u003e","title":"Pidgin to Lync integration: solved"},{"content":"SSDs are great (except they can also be the worst of drives), but they usually have less capacity than modern conventional drives. In 2013, 128GB is still a common size, and even a 256GB drive can only hold so much. At the same time, main memory is increasing and 8GB of RAM is quite common.\nThe increasing main memory will often reserve unnecessary space on your drive for hibernation and paging. This guide shows how to reclaim that space on Windows 7 and Windows 8 (but should work for any windows with minimal changes).\nHibernation is the process of writing all of the memory contents to disk before shutdown, making it possible to resume later without using any power from the battery in between. While this sounds useful, I find that I almost never use it. For shorter (less than a day) pauses I will use sleep instead of hibernate anyway, and for longer breaks it just makes sense to reboot. This is Windows, after all. In addition, writing 8GB to disk often will waste precious write-cycles on the SSD.\nPaging means using disk space to augment the main memory when the latter is full. With today\u0026rsquo;s large main memories this will mostly happen when processing very large images, e.g. in Photoshop. Even with multiple virtual machines and several heavy apps running at the same time, my computer never resorts to paging. In any case, if your computer routinely resorts to paging, your problem is better solved by adding more memory.\nHibernation reserves as much space as your RAM, and the paging file usually reserves the same. With these two gone, you can use that space for something else.\nRemoving Hibernation\nFirst make a shortcut on your desktop for a command prompt. Right click the desktop, select new shortcut, and type cmd.exe for the location.\nCreate Shortcut for CMD.exe\nThen, right-click the new shortcut, select run as administrator and type:\npowercfg.exe /hibernate off\nHibernate Off\nAfter hitting enter, the system will no longer hibernate. The hibernation file hiberfil.sys should also be gone. If you did not get any more disk space, check that there is no c:\\hiberfil.sys (note that this is hidden system file, remember to enable the listing of such files in Windows Explorer), and delete any separate hibernation partition to reclaim the space. Disabling Paging This is easier, go to Control Panel, System and select the Advanced tab.\nSystem Properties\nFrom here, click Performance Settings and Change. When you are done there should be zero and None all over the place.\nVirtual Memory Settings\n","permalink":"http://localhost:1313/more-ssd-space-how-i-got-an-extra-13gb/","summary":"\u003cp\u003eSSDs are great (except \u003ca href=\"//gundersen.net/solid-state-drives-the-best-of-drives-the-worst-of-drives/\" title=\"Solid State Drives: the best of drives, the worst of drives\"\u003ethey can also be the worst of drives\u003c/a\u003e), but they usually have less capacity than modern conventional drives. In 2013, 128GB is still a common size, and even a 256GB drive can only hold so much. At the same time, main memory is increasing and 8GB of RAM is quite common.\u003c/p\u003e\n\u003cp\u003eThe increasing main memory will often reserve unnecessary space on your drive for hibernation and paging. This  guide shows how to reclaim that space on Windows 7 and Windows 8 (but should work for any windows with minimal changes).\u003c/p\u003e","title":"More SSD space: how I got an extra 13GB free"},{"content":"Sometimes it can be necessary or preferable to run software in 32bit versions, even if the OS is 64bit (i.e. running the i386-version on amd64 OS).\nAs an example, software with deep memory structures mainly consisting of pointers, such as dictionaries of dictionaries of light-weight objects, will occupy almost twice the RAM on a 64bit OS. If multiple instances of, say, 3GB memory structures are needed, the 64bit penalty quickly adds up.\nWhile the FreeBSD ports and packages collections are very convenient, they automatically select the \u0026ldquo;correct\u0026rdquo; version on install. Resorting instead to compiling from source, compiling 32bit binaries from source on a 64bit system can be fiddly and time-consuming (Python, I am looking at you).\nLuckily, it is quick and easy to set up a 32bit jail on a 64bit FreeBSD. Here is an example, installing a FreeBSD 9.0 i386 jail on FreeBSD 9.0 amd64. This recipe goes for any jail, by the way. Only the fetch downloading the content is different.\nMany jails are established by linking directories between the jail and host to save disk space. While it is possible to go this route for 32bit-on-64bit jails as well (see http://en.jnlin.org/2008/06/07/12/ for an example of this route) it will disable w, ps, top and other system utilities because of the bitness-mismatch. Since you likely won\u0026rsquo;t require many 32bit jails, I prefer to go for the full enchilada. After all, it isn\u0026rsquo;t any harder and the disk space requirement is not excessive.\n# Create jail directory with kernel mkdir /usr/jails/32bitjail cd /usr/jails/32bitjail fetch ftp://ftp2.de.freebsd.org/pub/FreeBSD/releases/i386/i386/9.0-RELEASE/base.txz (or a more recent version) tar xpf base.txz;rm -rf boot;rm base.txz\n# Find yourself an IP-address to use, for a server this will usually be static: ifconfig vr0 10.0.0.96 netmask 255.255.255.255 alias\nNote the network driver, here it is vr0, but it could be different in your box. Next, add the matching config to the host\u0026rsquo;s /etc/rc.conf to persist this config on reboot:\nifconfig_vr0_alias0=\u0026ldquo;inet 10.0.0.96 netmask 255.255.255.255\u0026rdquo;\nAnd while you\u0026rsquo;re in the host\u0026rsquo;s rc.conf, add the jail config as well:\njail_enable=\u0026ldquo;YES\u0026rdquo; jail_list=\u0026ldquo;32bitjail\u0026rdquo; jail_socket_unixiproute_only=\u0026ldquo;YES\u0026rdquo; jail_sysvipc_allowed=\u0026ldquo;YES\u0026rdquo;\njail_32bitjail_rootdir=\u0026quot;/usr/jails/32bitjail\u0026quot; jail_32bitjail_hostname=\u0026ldquo;32bitjail\u0026rdquo; jail_32bitjail_ip=\u0026ldquo;10.0.0.96\u0026rdquo; jail_32bitjail_devfs_enable=\u0026ldquo;YES\u0026rdquo; jail_32bitjail_devfs_ruleset=\u0026ldquo;devfsrules_jail\u0026rdquo;\n# Save rc.conf and exit. Now for some generic jail config mount -t devfs devfs /usr/jails/32bitjail/dev cp /etc/resolv.conf /usr/jails/32bitjail/etc/\n# In the jail\u0026rsquo;s rc.conf all we need is the keymap, just one line.\necho \u0026lsquo;keymap=\u0026ldquo;norwegian.iso.kbd\u0026rdquo;\u0026rsquo; \u0026gt; /usr/jails/32bitjail/etc/rc.conf\n# Then start the 32bit jail\n/etc/rc.d/jail start 32bitjail\n# And log in to it\njls jexec 1 sh # replace 1 with the jid given by jls passwd # to set root pw\n","permalink":"http://localhost:1313/32bit-jail-on-64bit-freebsd/","summary":"\u003cp\u003eSometimes it can be necessary or preferable to run software in 32bit versions, even if the OS is 64bit (i.e. running the i386-version on amd64 OS).\u003c/p\u003e\n\u003cp\u003eAs an example, software with deep memory structures mainly consisting of pointers, such as dictionaries of dictionaries of light-weight objects, will occupy almost twice the RAM on a 64bit OS. If multiple instances of, say, 3GB memory structures are needed, the 64bit penalty quickly adds up.\u003c/p\u003e","title":"32bit jail on 64bit FreeBSD"},{"content":"Hewlett-Packards Microserver is great value for money. At work we have bought the more expensive rack-mount ProLiants for ten years, and with the microserver I have transitioned to HP for my home server as well.\nInexpensive, extensible, low-noise, small and with a slick black finish. Thumbscrews for case and mainboard, lots and lots of spare screws in the back of the front door together with a supplied torx-tool, and neat cable routing. Let\u0026rsquo;s open it up and have a look.\nThis variant contains the AMD N40L dual-core CPU. The mainboard has two RAM slots for a maximum of 8GB and comes with one 2GB stick. The 4 SATA bays are for 3.5\u0026quot; drives and connects with a special cable to the mainboard. One 250GB drive is included.\nThe main board slides out just by loosening two thumb-screws. To slide it out further than the picture shows, the cables must be disconnected. All connectors are either fit-one-place-only or color coded so putting it back together is easy.\nThe main specs are easy to find on HPs site or elsewhere, but there are three small features not mentioned.\nThere is one spare SATA connector labeled ODD (Optical Disk Drive). While intended for a DVD drive, in the pictures you can see it used to connect a red cable to a 2.5\u0026quot; SDD slid in between the optical drive bay and the 4 SATA bays. There is plenty of space for it there. This means the 5.25\u0026quot; slot for the DVD is still free for whatever you can fit in (although there are no more SATA connectors). To pimp your box this way you will need a standard SATA cable and power converter. While the specs say 6 USB connectors, four in front and two in back, there are actually 7. The last one is on the mainboard just by the ODD connector. In one of the pictures you can see it occupied by an orange usb stick. When using the server as a NAS, this could be the boot volume, leaving all SATA bays for storage drives. By default, any usb drive has a high priority in the boot order in the bios. This means that installation is as easy as plug in the os image usb stock and press power.\nIt runs very silent. Extremely silent for a server. It has one big fan on the back, allowing for fewer revolutions and less noise while still moving enough air. All in all, highly recommended.\n","permalink":"http://localhost:1313/hp-proliant-microserver/","summary":"\u003cp\u003eHewlett-Packards Microserver is great value for money. At work we have bought the more expensive rack-mount ProLiants for ten years, and with the microserver I have transitioned to HP for my home server as well.\u003c/p\u003e\n\u003cp\u003eInexpensive, extensible, low-noise, small and with a slick black finish. Thumbscrews for case and mainboard, lots and lots of spare screws in the back of the front door together with a supplied torx-tool, and neat cable routing.  Let\u0026rsquo;s open it up and have a look.\u003c/p\u003e","title":"HP ProLiant Microserver"},{"content":"Several new phones, such as the iPhone and Samsung Galaxy S3, requires a smaller SIM card. Such a MicroSIM is nothing but an ordinary sim-card with some superfluous plastic removed.\nWhen you are there, in the shop with your new phone, you are eager to get started with it. Some stores know to take advantage of that and will charge you extra for the microsim. For just a few moments of their time, putting your old sim through a somewhat special hole-punch, they can charge as much as $30.\nLuckily, there is an alternative. Just get the right tool (or use ordinary, sharp, scissors) and you can punch your own microsims in no time. Pretty handy when you want to get started with that new phone that just arrived in the mail as well.\n","permalink":"http://localhost:1313/low-cost-microsim/","summary":"\u003cp\u003eSeveral new phones, such as the iPhone and Samsung Galaxy S3, requires a smaller SIM card. Such a MicroSIM is nothing but an ordinary sim-card with some superfluous plastic removed.\u003c/p\u003e\n\u003cp\u003eWhen you are there, in the shop with your new phone, you are eager to get started with it. Some stores know to take advantage of that and will charge you extra for the microsim. For just a few moments of their time, putting your old sim through a somewhat special hole-punch, they can charge as much as $30.\u003c/p\u003e","title":"Low-cost MicroSIM"},{"content":"Mange nye telefoner, som iPhone og Samsung Galaxy S3, krever et SIM-kort som er mindre enn vanlig. Et slikt mikrosim er bare et vanlig SIM-kort med overflødig plast klippet bort.\nNår man står hos i butikken med den nye telefonen i hånda er man ganske ivrig på å komme i gang. Det vet Telehuset å benytte seg av. For jobben med å putte inn ditt gamle SIM i en litt spesiell hullmaskin, klemme hardt, og gi deg det samme SIM-kortet tilbake, tar de uten blygsel 199kr. For noen svært få sekunders jobb. For vilt til å være sant? Ta en tur innom et Telehus og spør.\nHeldigvis finnes det andre alternativ. Både Clas Ohlson og Teknikkmagasinet selger det rette verktøyet for 99kr. Hos Clas Ohlson finner du det i hylle H20.\nFor en moderne husholdning med flere telefoner blir det fort litt penger spart. Ikke minst kan man med et slikt verktøy i hus ta nye telefoner, bestilt på nett, i bruk med en gang - og unngå hele turen til nærmeste teleforhandler. Hvor man kanskje hadde kjøpt noe annet mens man først var der. Tenk på det Telehuset.\n","permalink":"http://localhost:1313/microsim-til-halve-prisen/","summary":"\u003cp\u003eMange nye telefoner, som iPhone og Samsung Galaxy S3, krever et SIM-kort som er mindre enn vanlig. Et slikt mikrosim er bare et vanlig SIM-kort med overflødig plast klippet bort.\u003c/p\u003e\n\u003cp\u003eNår man står hos i butikken med den nye telefonen i hånda er man ganske ivrig på å komme i gang. Det vet Telehuset å benytte seg av. For jobben med å putte inn ditt gamle SIM i en litt spesiell hullmaskin, klemme hardt, og gi deg det samme SIM-kortet tilbake, tar de uten blygsel 199kr. For noen svært få sekunders jobb. For vilt til å være sant? Ta en tur innom et Telehus og spør.\u003c/p\u003e","title":"MicroSIM til halve prisen"},{"content":"Solid state drives look surprisingly simple under the cover. If it wasn\u0026rsquo;t for the 2.5\u0026quot; form factor they inherited from ordinary drives, they could probably be both smaller and lighter than today.\nShown here is a 160GB Intel SSD. The die cast aluminium casing is surprisingly thin and light. It is held together with four small screws, some of which are covered by do not void stickers.\nThe 10 large chips comprises the actual storage, 16GB each. The two other chips are controllers for the storage and SATA interface.\nThere seems to be space for 10 more chips on the other side, presumably they are reusing the same PCB for a 320GB version of the drive.\nComparing this to an old style 3.5\u0026quot; drive, noting the number of components and lack of moving parts, it seems obvious that the price and capacity of these babies will be going in opposite directions fast. Just don\u0026rsquo;t forget backups!\n","permalink":"http://localhost:1313/under-the-hood-of-a-ssd/","summary":"\u003cp\u003eSolid state drives look surprisingly simple under the cover. If it wasn\u0026rsquo;t for the 2.5\u0026quot; form factor they inherited from ordinary drives, they could probably be both smaller and lighter than today.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"//gundersen.net/wp-content/uploads/2012/07/ssd11.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eShown here is a 160GB Intel SSD. The die cast aluminium casing is surprisingly thin and light. It is held together with four small screws, some of which are covered by do not void stickers.\u003c/p\u003e\n\u003cp\u003eThe 10 large chips comprises the actual storage, 16GB each. The two other chips are controllers for the storage and SATA interface.\u003c/p\u003e","title":"Under the hood of a SSD"},{"content":"This post was updated in December 2015 to account for clang in FreeBSD and the updated Teeworlds 0.6.3 (which contains an important server bugfix).\nTeeworlds is a great game. It is free and runs on any platform, download it now.\nYou will soon want to run your own server to host your own matches and levels. If you have a FreeBSD server without X, this is not straightforward. The FreeBSD Teeworlds package is game (client) and server bundled in one, and the Teeworlds server sources are meant for Linux. Here is how:\nFirst, make sure you have Python installed. Then, fetch and unzip the sources:\n# fetch http://teeworlds.com/files/bam-0.4.0.zip # unzip bam-0.4.0.zip # rm bam-0.4.0.zip # fetch https://downloads.teeworlds.com/teeworlds-0.6.3-src.zip # unzip teeworlds-0.6.3-src.zip # rm teeworlds-0.6.3-src.zip\nWe need to remove the linux-ism before building. Edit bam-0.4.0/make_unix_clang.sh to remove -ldl near the end of the last line.\n# cd bam-0.4.0 # ee make_unix_clang.sh\nThen build it:\n# ./make_unix_clang.sh\nIt should build fine, now build the server itself:\n# cd teeworlds-0.6.3-src $ ../bam-0.4.0/bam server_release\nIf you get errors about mising g++, then install gcc48 (pkg install gcc48) and link gcc48 to gcc and g++48 to g++ in /usr/local/bin and retry. Likewise for python2.7 to python if necessary. You can now run the server:\n./teeworlds_srv -f teeworlds.cfg\nA sample teeworlds.cfg file:\nsv_name \u0026ldquo;Underbuksepiratene\u0026rdquo; sv_high_bandwidth 1 sv_register 1 sv_map dm7 sv_rcon_password \u0026ldquo;mypw\u0026rdquo; sv_maprotation dm1 dm2 dm6 dm7 dm8 dm9 sv_rounds_per_map 2 sv_motd \u0026ldquo;Welcome! Anything goes.\u0026rdquo; sv_gametype mod\nIf you just want to play locally set sv_register 0. If you want to make your server public make sure people can connect to it by UDP on port 8303.\nHappy gaming!\n","permalink":"http://localhost:1313/compiling-teeworlds-server/","summary":"\u003cp\u003eThis post was updated in December 2015 to account for clang in FreeBSD and the updated Teeworlds 0.6.3 (which contains an important server bugfix).\u003c/p\u003e\n\u003cp\u003eTeeworlds is a great game. It is free and runs on any platform, \u003ca href=\"http://teeworlds.com\"\u003edownload it now\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eYou will soon want to run your own server to host your own matches and levels. If you have a FreeBSD server without X, this is not straightforward. The FreeBSD Teeworlds package is game (client) and server bundled in one, and the Teeworlds server sources are meant for Linux. Here is how:\u003c/p\u003e","title":"Compiling Teeworlds Server"},{"content":"This is an incoherent and mostly uninteresting collection of posts on a variety of topics. Generally these are small guides aimed at helping others save some time, and making sure I\u0026rsquo;m not forgetting how I fixed something.\nI\u0026rsquo;m a software developer and manager in the daytime and tinkerer in the evenings. I love tinkering with technology.\nYou can reach me at finn at gundersen dot net.\n","permalink":"http://localhost:1313/about/","summary":"\u003cp\u003eThis is an incoherent and mostly uninteresting collection of posts on a variety of topics. Generally these are small guides aimed at helping others save some time, and making sure I\u0026rsquo;m not forgetting how I fixed something.\u003c/p\u003e\n\u003cp\u003eI\u0026rsquo;m a software developer and manager in the daytime and tinkerer in the evenings. I love tinkering with technology.\u003c/p\u003e\n\u003cp\u003eYou can reach me at finn at gundersen dot net.\u003c/p\u003e","title":"About this blog"},{"content":"For the last time a dynamic disk in Windows has gone rogue on me. I won\u0026rsquo;t go into why I even used them, but here is how to get out.\nIf for some reason you are stuck with an \u0026ldquo;Invalid Dynamid Disk\u0026rdquo;, unable to use the disk manager in the computer management applet of control panel\u0026rsquo;s administrative tools (or, at least unable to have it convert back to basic disk without formatting), then this is for you.\nStep 1: The Free Route\nFirst, get the great Freeware utility HxD from http://mh-nexus.de/en/hxd/. Go to the download page, scroll to the portable version, download and run as administrator. Use the Extras menu to open your physical disk and find the byte at location 1C2. Change it from 42 (Dynamic disk) to 07 (Basic disk), save and reboot. This has worked for me (and countless others, judging by the prevalence of this tip in the blogosphere).\nStep 2: Paying to get out\nIf this doesn\u0026rsquo;t work, change it back. Then get Aomei Dynamic Disk Manager Pro. It is not free, but it saved me once and I promise the relief I felt when it worked totally made the asking price worth it.\nNow, remember never convert to dynamic disk again.\n","permalink":"http://localhost:1313/back-to-basic-convert-dynamic-disks-without-formatting/","summary":"\u003cp\u003eFor the last time a dynamic disk in Windows has gone rogue on me. I won\u0026rsquo;t go into why I even used them, but here is how to get out.\u003c/p\u003e\n\u003cp\u003eIf for some reason you are stuck with an \u0026ldquo;Invalid Dynamid Disk\u0026rdquo;, unable to use the disk manager in the computer management applet of control panel\u0026rsquo;s administrative tools (or, at least unable to have it convert back to basic disk without formatting), then this is for you.\u003c/p\u003e","title":"Back to basic: convert dynamic disks without formatting"},{"content":"There is no denying that solid state hard drives have a lot of advantages. They are fast, silent and runs cooler than ordinary drives. But when they fail, they fail hard. Really hard.\nThe Intel 160GB SSD stock drive in my Lenovo T420s failed in May 2012, less than one year after the manufacturing date. And when I say failed, I mean it. The laptop suddenly responded slowly, then after a few seconds completely froze, gave a blue-screen and died. It would not reboot.\nDuring BIOS POST the disk identified itself as an IntelBootloader with a size of 8MB.\nI mounted the drive in a different laptop with a very handy SATA-to-USB adapter, but no amount of trickery (MBRFix64, HDAT2, EASEUS recovery, Aomei manager - or cursing) changed the fact that it was dead.\nLuckily my laptop carries two drives, and this was only my system drive. I had backups of the important files and \u0026ldquo;just\u0026rdquo; had to spend one entire working day reinstalling a complete working system with all my applications and settings.\nLenovo replaced my disk without requiring me to send it in. I have since learned that my experience was not atypical, and that this is, in fact, how SSDs fail. Keeping in mind that this was neither very early, as in within-first-30-days early, nor an old drive, backups are paramount when relying on solid state disks.\nGone are the days of partly failed drives and crashes being merely an inconvenience, now the entire drive is gone. If you don\u0026rsquo;t do backups, you are looking at an interesting future indeed.\n","permalink":"http://localhost:1313/solid-state-drives-the-best-of-drives-the-worst-of-drives/","summary":"\u003cp\u003eThere is no denying that solid state hard drives have a lot of advantages. They are fast, silent and runs cooler than ordinary drives. But when they fail, they fail hard. Really hard.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"//gundersen.net/wp-content/uploads/2012/07/ssd2.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eThe Intel 160GB SSD stock drive in my Lenovo T420s failed in May 2012, less than one year after the manufacturing date. And when I say failed, I mean it. The laptop suddenly responded slowly, then after a few seconds completely froze, gave a blue-screen and died. It would not reboot.\u003c/p\u003e","title":"Solid State Drives: the best of drives, the worst of drives"}]